<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" style="position: fixed; top: 0; left: 0;">
  <defs>
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(255,255,255,0.055)" stroke-width="1"/>
    </pattern>
  </defs>

  <style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&amp;display=swap');
* { box-sizing: border-box; }
body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; background-color: #080808; color: #e0e0e0; margin: 0; padding: 0; overflow: hidden; }
.header { position: fixed; top: 0; left: 0; right: 0; height: 56px; background: #080808; border-bottom: 1px solid rgba(255,255,255,0.06); padding: 0 28px; display: flex; align-items: center; justify-content: space-between; z-index: 10; }
.header-left { display: flex; align-items: center; gap: 12px; }
.header-logo { width: 28px; height: 28px; background: linear-gradient(135deg, #3a3a3a, #1a1a1a); border-radius: 8px; border: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center; }
.header-title { font-size: 15px; font-weight: 600; letter-spacing: -0.01em; color: #f0f0f0; }
.header-badge { font-size: 11px; font-weight: 500; letter-spacing: 0.06em; text-transform: uppercase; color: #cccccc; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 20px; padding: 3px 8px; }
.header-credit { font-size: 12px; font-weight: 400; color: #555555; letter-spacing: 0.01em; white-space: nowrap; }
.search-container { position: fixed; bottom: 0; left: 0; right: 0; background: #080808; border-top: 1px solid rgba(255,255,255,0.06); padding: 14px 28px; display: flex; align-items: center; justify-content: center; gap: 16px; z-index: 10; }
.game-count { font-size: 13px; font-weight: 500; color: #888888; letter-spacing: 0.02em; white-space: nowrap; min-width: 80px; }
.game-count span { color: #cccccc; font-weight: 600; }
.search-box { position: relative; width: 480px; max-width: 100%; }
.search-icon { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: #555555; width: 16px; height: 16px; }
.search-input { width: 100%; padding: 11px 18px 11px 42px; border-radius: 10px; background: rgba(255,255,255,0.05); color: #f0f0f0; border: 1px solid rgba(255,255,255,0.08); outline: none; font-family: inherit; font-size: 14px; font-weight: 400; letter-spacing: -0.01em; transition: all 0.2s ease; }
.search-input::placeholder { color: #444444; }
.search-input:focus { background: rgba(255,255,255,0.07); border-color: rgba(255,255,255,0.2); box-shadow: 0 0 0 3px rgba(255,255,255,0.04); }
.scroll-arrows { display: flex; flex-direction: column; gap: 4px; min-width: 80px; align-items: flex-end; }
.scroll-btn { width: 28px; height: 22px; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08); border-radius: 6px; color: #888888; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.15s ease; }
.scroll-btn:hover { background: rgba(255,255,255,0.08); border-color: rgba(255,255,255,0.14); color: #cccccc; }
.scroll-btn:active { background: rgba(255,255,255,0.12); }
.game-container { position: fixed; top: 56px; left: 0; right: 0; bottom: 70px; overflow-y: auto; padding: 20px; background-color: transparent; }
.game-container::-webkit-scrollbar { width: 6px; }
.game-container::-webkit-scrollbar-track { background: transparent; }
.game-container::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 3px; }
.game-container::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.18); }
.game-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 10px; max-width: 1400px; margin: 0 auto; }
.game-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.07); border-radius: 12px; padding: 12px; text-align: left; cursor: pointer; transition: all 0.18s ease; position: relative; overflow: hidden; }
.game-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.08), transparent); }
.game-card:hover { background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.14); transform: translateY(-1px); box-shadow: 0 8px 24px rgba(0,0,0,0.4); }
.game-card:active { transform: translateY(0px); }
.game-thumb { width: 100%; aspect-ratio: 16/9; background: linear-gradient(135deg, #151515, #0f0f0f); border-radius: 8px; margin-bottom: 10px; border: 1px solid rgba(255,255,255,0.05); object-fit: cover; display: block; }
.game-title { font-size: 14px; font-weight: 500; color: #e0e0e0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; letter-spacing: -0.01em; }
.loading { text-align: center; padding: 60px 20px; color: #333333; font-size: 13px; font-weight: 500; letter-spacing: 0.04em; text-transform: uppercase; }
.error { color: #ef4444; text-align: center; padding: 60px 20px; font-size: 13px; }

/* Game Viewer Overlay */
.game-viewer { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: #080808; z-index: 100; display: none; flex-direction: column; }
.game-viewer.active { display: flex; }
.game-viewer-header { height: 52px; background: #0d0d0d; border-bottom: 1px solid rgba(255,255,255,0.08); display: flex; align-items: center; padding: 0 20px; gap: 16px; flex-shrink: 0; }
.back-btn { display: flex; align-items: center; gap: 8px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; padding: 7px 14px; color: #cccccc; cursor: pointer; font-family: inherit; font-size: 13px; font-weight: 500; letter-spacing: -0.01em; transition: all 0.15s ease; }
.back-btn:hover { background: rgba(255,255,255,0.09); border-color: rgba(255,255,255,0.18); color: #f0f0f0; }
.back-btn:active { background: rgba(255,255,255,0.13); transform: translateX(-1px); }
.back-btn svg { flex-shrink: 0; }
.game-viewer-title { font-size: 14px; font-weight: 600; color: #e0e0e0; letter-spacing: -0.01em; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; flex: 1; }
.game-viewer-loading { position: absolute; top: 52px; left: 0; right: 0; bottom: 0; display: flex; align-items: center; justify-content: center; color: #333333; font-size: 13px; font-weight: 500; letter-spacing: 0.04em; text-transform: uppercase; pointer-events: none; transition: opacity 0.3s ease; }
.game-frame { flex: 1; border: none; background: #000; width: 100%; display: block; }
  </style>

  <rect width="100%" height="100%" fill="#080808"/>
  <rect width="100%" height="100%" fill="url(#grid)"/>

  <foreignObject x="0" y="0" width="100%" height="100%">
    <body xmlns="http://www.w3.org/1999/xhtml">

      <div class="game-viewer" id="game_viewer">
        <div class="game-viewer-header">
          <button class="back-btn" id="back_btn">
            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 2L4 7L9 12" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Back
          </button>
          <div class="game-viewer-title" id="game_viewer_title">Game</div>
        </div>
        <div class="game-viewer-loading" id="game_viewer_loading">Loading game...</div>
        <iframe class="game-frame" id="game_frame" sandbox="allow-scripts allow-same-origin allow-forms allow-pointer-lock"></iframe>
      </div>

      <div class="header">
        <div class="header-left">
          <span class="header-title">Crafted Gamz Lite</span>
          <span class="header-badge">SVG Edition</span>
        </div>
        <span class="header-credit">Credit to Bromine Network for the idea and the assets</span>
      </div>
      <div id="gme_list" class="game-container">
        <div class="game-grid" id="gme_grid">
          <p class="loading">Loading, Please Hold...</p>
        </div>
      </div>
      <div class="search-container">
        <div class="game-count"><span id="gme_count">0</span> games</div>
        <div class="search-box">
          <svg class="search-icon" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="6.5" cy="6.5" r="4.5" stroke="currentColor" stroke-width="1.5"/><path d="M10.5 10.5L14 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
          <input id="gmes_search" type="text" placeholder="Search games..." class="search-input"/>
        </div>
        <div class="scroll-arrows">
          <button class="scroll-btn" id="scroll_up">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L5 3.5L8 6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <button class="scroll-btn" id="scroll_down">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.5L5 6.5L8 3.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
      </div>
    </body>
  </foreignObject>
  <script><![CDATA[
    (function() {
      document.title = "Crafted Gamz Lite: SVG Edition";
      var favicon = document.createElement("link");
      favicon.rel = "shortcut icon";
      favicon.type = "image/x-icon";
      favicon.href = "https://cdn.jsdelivr.net/gh/ItsCrafted/crafted-gamz-lite@main/src/img/icon.png";
      document.head && document.head.appendChild(favicon);

      var gme_list = document.getElementById("gme_list");
      var gme_grid = document.getElementById("gme_grid");
      var gmes_search = document.getElementById("gmes_search");
      var gme_count = document.getElementById("gme_count");
      var scroll_up = document.getElementById("scroll_up");
      var scroll_down = document.getElementById("scroll_down");
      var game_viewer = document.getElementById("game_viewer");
      var game_frame = document.getElementById("game_frame");
      var game_viewer_title = document.getElementById("game_viewer_title");
      var game_viewer_loading = document.getElementById("game_viewer_loading");
      var back_btn = document.getElementById("back_btn");
      var gmes_data = [];

      scroll_up.addEventListener("click", function() {
        gme_list.scrollBy({ top: -300, behavior: "smooth" });
      });
      scroll_down.addEventListener("click", function() {
        gme_list.scrollBy({ top: 300, behavior: "smooth" });
      });

      back_btn.addEventListener("click", function() {
        game_viewer.classList.remove("active");
        game_frame.src = "about:blank";
        game_viewer_title.textContent = "Game";
        game_viewer_loading.style.opacity = "1";
        game_viewer_loading.style.pointerEvents = "none";
      });

      function render_gmes(games) {
        gme_grid.innerHTML = "";
        gme_count.textContent = games.length;
        if (games.length === 0) {
          gme_grid.innerHTML = "<p class='loading'>No games found.</p>";
          return;
        }
        games.forEach(function(game) {
          var card = document.createElementNS("http://www.w3.org/1999/xhtml", "div");
          card.className = "game-card";
          var thumb = game.thumb
            ? "<img class='game-thumb' src='https://cdn.jsdelivr.net/gh/Hydra-Network/hydra-assets@main/" + game.thumb + "' onerror=\"this.style.background='linear-gradient(135deg,#151515,#0f0f0f)';this.removeAttribute('src')\" loading='lazy'/>"
            : "<div class='game-thumb'></div>";
          card.innerHTML = thumb + "<div class='game-title'>" + game.title + "</div>";
          card.addEventListener("click", function() {
            open_game_in_viewer(game.file_name, game.title);
          });
          gme_grid.appendChild(card);
        });
      }

      function open_game_in_viewer(file_name, title) {
        game_viewer_title.textContent = title;
        game_viewer_loading.style.opacity = "1";
        game_viewer_loading.style.pointerEvents = "none";
        game_viewer_loading.textContent = "Loading game...";
        game_viewer.classList.add("active");
        game_frame.src = "about:blank";

        fetch("https://cdn.jsdelivr.net/gh/ItsCrafted/lite-assets@main/" + file_name + "?t=" + Date.now())
          .then(function(response) { return response.text(); })
          .then(function(html) {
            var blob = new Blob([html], { type: "text/html" });
            var url = URL.createObjectURL(blob);
            game_frame.onload = function() {
              game_viewer_loading.style.opacity = "0";
              setTimeout(function() { URL.revokeObjectURL(url); }, 1000);
            };
            game_frame.src = url;
          })
          .catch(function(err) {
            console.error("Failed to load game:", err);
            game_viewer_loading.textContent = "Failed to load game.";
            game_viewer_loading.style.color = "#ef4444";
          });
      }

      gmes_search.addEventListener("input", function(e) {
        var query = e.target.value.toLowerCase();
        var filtered = gmes_data.filter(function(g) {
          return g.title.toLowerCase().indexOf(query) !== -1;
        });
        render_gmes(filtered);
      });

      fetch("https://cdn.jsdelivr.net/gh/ItsCrafted/crafted-gamz-lite@main/g.json?t=" + Date.now())
        .then(function(res) { return res.json(); })
        .then(function(data) {
          gmes_data = data;
          render_gmes(gmes_data);
        })
        .catch(function(err) {
          console.error("Could not load games JSON:", err);
          gme_grid.innerHTML = "<p class='error'>Failed to load games.</p>";
        });
    })();
  ]]></script>
</svg>