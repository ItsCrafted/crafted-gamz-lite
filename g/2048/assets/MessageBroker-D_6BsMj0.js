var e,t,n,r,o,i=Object.defineProperty,s=(e,t,n)=>((e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3449ee3b942d17927973152d1f761b938dea16d6"}}catch(e){}}();try{(o=(new(r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).Error).stack)&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[o]="0c2cee6d-9417-4a6c-8224-9c6f52c25be3",r._sentryDebugIdIdentifier="sentry-dbid-0c2cee6d-9417-4a6c-8224-9c6f52c25be3")}catch(r){}!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[(new e.Error).stack]=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}({},e._sentryModuleMetadata[(new e.Error).stack],{"_sentryBundlerPluginAppKey:@rbitrary-golden-pumpkin":!0})}catch(t){}}();import{g as a,c as l,b as c,U as u,C as d,S as p,T as f,I as h,G as m,d as g,B as y,f as D,O as v,P as C,h as _,i as A,W as x}from"./pixi.js-BwvQIqlH.js";const E="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,w=globalThis,b="10.29.0";function F(){return S(w),w}function S(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||b,t[b]=t[b]||{}}function k(e,t,n=w){const r=n.__SENTRY__=n.__SENTRY__||{},o=r[b]=r[b]||{};return o[e]||(o[e]=t())}const B=["debug","info","warn","error","log","assert","trace"],M={};function T(e){if(!("console"in w))return e();const t=w.console,n={},r=Object.keys(M);r.forEach(e=>{const r=M[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}function O(){return R().enabled}function I(e,...t){E&&O()&&T(()=>{w.console[e](`Sentry Logger [${e}]:`,...t)})}function R(){return E?k("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const P=function(){R().enabled=!0},$=function(...e){I("log",...e)},j=function(...e){I("warn",...e)},U=function(...e){I("error",...e)},G="?",L=/\(error: (.*)\)/,N=/captureMessage|captureException/;function z(...e){const t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0,r=0)=>{const o=[],i=e.split("\n");for(let s=n;s<i.length;s++){let e=i[s];e.length>1024&&(e=e.slice(0,1024));const n=L.test(e)?e.replace(L,"$1"):e;if(!n.match(/\S*Error: /)){for(const e of t){const t=e(n);if(t){o.push(t);break}}if(o.length>=50+r)break}}return function(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(W(t).function||"")&&t.pop(),t.reverse(),N.test(W(t).function||"")&&(t.pop(),N.test(W(t).function||"")&&t.pop()),t.slice(0,50).map(e=>({...e,filename:e.filename||W(t).filename,function:e.function||G}))}(o.slice(r))}}function W(e){return e[e.length-1]||{}}const q="<anonymous>";function V(e){try{return e&&"function"==typeof e&&e.name||q}catch{return q}}function H(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch{return}}}function Y(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const J={},X={};function K(e,t){J[e]=J[e]||[],J[e].push(t)}function Z(e,t){if(!X[e]){X[e]=!0;try{t()}catch(r){E&&U(`Error while instrumenting ${e}`,r)}}}function Q(e,t){const n=e&&J[e];if(n)for(const o of n)try{o(t)}catch(r){E&&U(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${V(o)}\nError:`,r)}}let ee=null;function te(){ee=w.onerror,w.onerror=function(e,t,n,r,o){return Q("error",{column:r,error:o,line:n,msg:e,url:t}),!!ee&&ee.apply(this,arguments)},w.onerror.__SENTRY_INSTRUMENTED__=!0}let ne=null;function re(){ne=w.onunhandledrejection,w.onunhandledrejection=function(e){return Q("unhandledrejection",e),!ne||ne.apply(this,arguments)},w.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const oe=Object.prototype.toString;function ie(e){switch(oe.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return me(e,Error)}}function se(e,t){return oe.call(e)===`[object ${t}]`}function ae(e){return se(e,"ErrorEvent")}function le(e){return se(e,"DOMError")}function ce(e){return se(e,"String")}function ue(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function de(e){return null===e||ue(e)||"object"!=typeof e&&"function"!=typeof e}function pe(e){return se(e,"Object")}function fe(e){return"undefined"!=typeof Event&&me(e,Event)}function he(e){return Boolean((null==e?void 0:e.then)&&"function"==typeof e.then)}function me(e,t){try{return e instanceof t}catch{return!1}}function ge(e){return!("object"!=typeof e||null===e||!(e.__isVue||e._isVue||e.__v_isVNode))}const ye=w;function De(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let i=0,s=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(c=ve(n,u),!("html"===c||i>1&&s+o.length*l+c.length>=d));)o.push(c),s+=c.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function ve(e,t){const n=e,r=[];if(!(null==n?void 0:n.tagName))return"";if(ye.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const o=(null==t?void 0:t.length)?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(null==o?void 0:o.length)o.forEach(e=>{r.push(`[${e[0]}="${e[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const e=n.className;if(e&&ce(e)){const t=e.split(/\s+/);for(const e of t)r.push(`.${e}`)}}const i=["aria-label","type","name","title","alt"];for(const s of i){const e=n.getAttribute(s);e&&r.push(`[${s}="${e}"]`)}return r.join("")}function Ce(){try{return ye.document.location.href}catch{return""}}function _e(e,t,n){if(!(t in e))return;const r=e[t];if("function"!=typeof r)return;const o=n(r);"function"==typeof o&&xe(o,r);try{e[t]=o}catch{E&&$(`Failed to replace method "${t}" in object`,e)}}function Ae(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{E&&$(`Failed to add non-enumerable property "${t}" to object`,e)}}function xe(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ae(e,"__sentry_original__",t)}catch{}}function Ee(e){return e.__sentry_original__}function we(e){if(ie(e))return{message:e.message,name:e.name,stack:e.stack,...Fe(e)};if(fe(e)){const t={type:e.type,target:be(e.target),currentTarget:be(e.currentTarget),...Fe(e)};return"undefined"!=typeof CustomEvent&&me(e,CustomEvent)&&(t.detail=e.detail),t}return e}function be(e){try{return"undefined"!=typeof Element&&me(e,Element)?De(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Fe(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Se(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function ke(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const t=e[r];try{ge(t)?n.push(Y(t)):n.push(String(t))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Be(e,t,n=!1){return!!ce(e)&&(se(t,"RegExp")?t.test(e):!!ce(t)&&(n?e===t:e.includes(t)))}function Me(e,t=[],n=!1){return t.some(t=>Be(e,t,n))}let Te,Oe;function Ie(e=function(){const e=w;return e.crypto||e.msCrypto}()){try{if(null==e?void 0:e.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return Te||(Te="10000000100040008000100000000000"),Te.replace(/[018]/g,e=>(e^(16*Math.random()&15)>>e/4).toString(16))}function Re(e){var t,n;return null==(n=null==(t=e.exception)?void 0:t.values)?void 0:n[0]}function Pe(e){const{message:t,event_id:n}=e;if(t)return t;const r=Re(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function $e(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function je(e,t){const n=Re(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...null==r?void 0:r.data,...t.data};n.mechanism.data=e}}function Ue(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{Ae(e,"__sentry_captured__",!0)}catch{}return!1}function Ge(){return Date.now()/1e3}function Le(){return(Oe??(Oe=function(){const{performance:e}=w;if(!(null==e?void 0:e.now)||!e.timeOrigin)return Ge;const t=e.timeOrigin;return()=>(t+e.now())/1e3}()))()}function Ne(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Le(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Ie()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ze(e,t,n=2){if(!t||"object"!=typeof t||n<=0)return t;if(e&&0===Object.keys(t).length)return e;const r={...e};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=ze(r[o],t[o],n-1));return r}function We(){return Ie()}function qe(){return Ie().substring(16)}const Ve="_sentrySpan";function He(e,t){t?Ae(e,Ve,t):delete e[Ve]}function Ye(e){return e[Ve]}class Je{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:We(),sampleRand:Math.random()}}clone(){const e=new Je;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._attributes={...this._attributes},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,He(e,Ye(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ne(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this.setTags({[e]:t})}setAttributes(e){return this._attributes={...this._attributes,...e},this._notifyScopeListeners(),this}setAttribute(e,t){return this.setAttributes({[e]:t})}removeAttribute(e){return e in this._attributes&&(delete this._attributes[e],this._notifyScopeListeners()),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,n=t instanceof Je?t.getScopeData():pe(t)?e:void 0,{tags:r,attributes:o,extra:i,user:s,contexts:a,level:l,fingerprint:c=[],propagationContext:u}=n||{};return this._tags={...this._tags,...r},this._attributes={...this._attributes,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),l&&(this._level=l),c.length&&(this._fingerprint=c),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,He(this,void 0),this._attachments=[],this.setPropagationContext({traceId:We(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){var n;const r="number"==typeof t?t:100;if(r<=0)return this;const o={timestamp:Ge(),...e,message:e.message?Se(e.message,2048):e.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),null==(n=this._client)||n.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Ye(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=ze(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=(null==t?void 0:t.event_id)||Ie();if(!this._client)return E&&j("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=(null==n?void 0:n.event_id)||Ie();if(!this._client)return E&&j("No client configured on scope - will not capture message!"),r;const o=(null==n?void 0:n.syntheticException)??new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},this),r}captureEvent(e,t){const n=(null==t?void 0:t.event_id)||Ie();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(E&&j("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}class Xe{constructor(e,t){let n,r;n=e||new Je,r=t||new Je,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(r){throw this._popScope(),r}return he(n)?n.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function Ke(){const e=S(F());return e.stack=e.stack||new Xe(k("defaultCurrentScope",()=>new Je),k("defaultIsolationScope",()=>new Je))}function Ze(e){return Ke().withScope(e)}function Qe(e,t){const n=Ke();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function et(e){return Ke().withScope(()=>e(Ke().getIsolationScope()))}function tt(e){const t=S(e);return t.acs?t.acs:{withIsolationScope:et,withScope:Ze,withSetScope:Qe,withSetIsolationScope:(e,t)=>et(t),getCurrentScope:()=>Ke().getScope(),getIsolationScope:()=>Ke().getIsolationScope()}}function nt(){return tt(F()).getCurrentScope()}function rt(){return tt(F()).getIsolationScope()}function ot(){return nt().getClient()}function it(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,i={trace_id:n,span_id:o||qe()};return r&&(i.parent_span_id=r),i}const st="sentry.profile_id",at="sentry.exclusive_time";function lt(e){if(e){if("object"==typeof e&&"deref"in e&&"function"==typeof e.deref)try{return e.deref()}catch{return}return e}}function ct(e){const t=e;return{scope:t._sentryScope,isolationScope:lt(t._sentryIsolationScope)}}const ut=/^sentry-/;function dt(e){return e.split(",").map(e=>{const t=e.indexOf("=");return-1===t?[]:[e.slice(0,t),e.slice(t+1)].map(e=>{try{return decodeURIComponent(e.trim())}catch{return}})}).reduce((e,[t,n])=>(t&&n&&(e[t]=n),e),{})}const pt=/^o(\d+)\./,ft=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ht(e,t=!1){const{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${s}`}function mt(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function gt(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=function(e){const t=e.match(pt);return null==t?void 0:t[1]}(n)),r}let yt=!1;function Dt(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:At(e).parent_span_id,i=ct(e).scope;return{parent_span_id:o,span_id:r?(null==i?void 0:i.getPropagationContext().propagationSpanId)||qe():t,trace_id:n}}function vt(e){return e&&e.length>0?e.map(({context:{spanId:e,traceId:t,traceFlags:n,...r},attributes:o})=>({span_id:e,trace_id:t,sampled:1===n,attributes:o,...r})):void 0}function Ct(e){return"number"==typeof e?_t(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?_t(e.getTime()):Le()}function _t(e){return e>9999999999?e/1e3:e}function At(e){var t;if(function(e){return"function"==typeof e.getSpanJSON}(e))return e.getSpanJSON();const{spanId:n,traceId:r}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:o,startTime:i,name:s,endTime:a,status:l,links:c}=e;return{span_id:n,trace_id:r,data:o,description:s,parent_span_id:"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?null==(t=e.parentSpanContext)?void 0:t.spanId:void 0,start_timestamp:Ct(i),timestamp:Ct(a)||void 0,status:xt(l),op:o["sentry.op"],origin:o["sentry.origin"],links:vt(c)}}return{span_id:n,trace_id:r,start_timestamp:0,data:{}}}function xt(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"internal_error"}function Et(e){return e._sentryRootSpan||e}function wt(){yt||(T(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),yt=!0)}function bt(e){$(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function Ft(e,t){if(!(null==t?void 0:t.length)||!e.description)return!1;for(const n of t){if(kt(n)){if(Be(e.description,n))return E&&bt(e),!0;continue}if(!n.name&&!n.op)continue;const t=!n.name||Be(e.description,n.name),r=!n.op||e.op&&Be(e.op,n.op);if(t&&r)return E&&bt(e),!0}return!1}function St(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const o of e)o.parent_span_id===r&&(o.parent_span_id=n)}function kt(e){return"string"==typeof e||e instanceof RegExp}const Bt="production";function Mt(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},o={environment:n.environment||Bt,release:n.release,public_key:r,trace_id:e,org_id:gt(t)};return t.emit("createDsc",o),o}function Tt(e){var t;const n=ot();if(!n)return{};const r=Et(e),o=At(r),i=o.data,s=r.spanContext().traceState,a=(null==s?void 0:s.get("sentry.sample_rate"))??i["sentry.sample_rate"]??i["sentry.previous_trace_sample_rate"];function l(e){return"number"!=typeof a&&"string"!=typeof a||(e.sample_rate=`${a}`),e}const c=r._frozenDsc;if(c)return l(c);const u=null==s?void 0:s.get("sentry.dsc"),d=u&&function(e){const t=function(e){if(e&&(ce(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce((e,t)=>{const n=dt(t);return Object.entries(n).forEach(([t,n])=>{e[t]=n}),e},{}):dt(e)}(e);if(!t)return;const n=Object.entries(t).reduce((e,[t,n])=>(t.match(ut)&&(e[t.slice(7)]=n),e),{});return Object.keys(n).length>0?n:void 0}(u);if(d)return l(d);const p=Mt(e.spanContext().traceId,n),f=i["sentry.source"],h=o.description;return"url"!==f&&h&&(p.transaction=h),function(){var e;if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=null==(e=ot())?void 0:e.getOptions();return!(!t||null==t.tracesSampleRate&&!t.tracesSampler)}()&&(p.sampled=String(function(e){const{traceFlags:t}=e.spanContext();return 1===t}(r)),p.sample_rand=(null==s?void 0:s.get("sentry.sample_rand"))??(null==(t=ct(r).scope)?void 0:t.getPropagationContext().sampleRand.toString())),l(p),n.emit("createDsc",p,r),p}function Ot(e,t=100,n=1/0){try{return Rt("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function It(e,t=3,n=102400){const r=Ot(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?It(e,t-1,n):r;var o}function Rt(e,t,n=1/0,r=1/0,o=function(){const e=new WeakSet;return[function(t){return!!e.has(t)||(e.add(t),!1)},function(t){e.delete(t)}]}()){const[i,s]=o;if(null==t||["boolean","string"].includes(typeof t)||"number"==typeof t&&Number.isFinite(t))return t;const a=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(ge(t))return Y(t);if(pe(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${V(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return(null==t?void 0:t.constructor)?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}var n}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===l)return a.replace("object ","");if(i(t))return"[Circular ~]";const c=t;if(c&&"function"==typeof c.toJSON)try{return Rt("",c.toJSON(),l-1,r,o)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const p=we(t);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(d>=r){u[f]="[MaxProperties ~]";break}const e=p[f];u[f]=Rt(f,e,l-1,r,o),d++}return s(t),u}function Pt(e,t=[]){return[e,t]}function $t(e,t){const[n,r]=e;return[n,[...r,t]]}function jt(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function Ut(e){const t=S(w);return t.encodePolyfill?t.encodePolyfill(e):(new TextEncoder).encode(e)}function Gt(e){const[t,n]=e;let r=JSON.stringify(t);function o(e){"string"==typeof r?r="string"==typeof e?r+e:[Ut(r),e]:r.push("string"==typeof e?Ut(e):e)}for(const i of n){const[e,t]=i;if(o(`\n${JSON.stringify(e)}\n`),"string"==typeof t||t instanceof Uint8Array)o(t);else{let e;try{e=JSON.stringify(t)}catch{e=JSON.stringify(Ot(t))}o(e)}}return"string"==typeof r?r:function(e){const t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}(r)}function Lt(e){const t="string"==typeof e.data?Ut(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Nt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function zt(e){return Nt[e]}function Wt(e){if(!(null==e?void 0:e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function qt(e){return new Ht(t=>{t(e)})}function Vt(e){return new Ht((t,n)=>{n(e)})}class Ht{constructor(e){this._state=0,this._handlers=[],this._runExecutor(e)}then(e,t){return new Ht((n,o)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(r){o(r)}else n(t)},e=>{if(t)try{n(t(e))}catch(r){o(r)}else o(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new Ht((t,n)=>{let r,o;return this.then(t=>{o=!1,r=t,e&&e()},t=>{o=!0,r=t,e&&e()}).then(()=>{o?n(r):t(r)})})}_executeHandlers(){if(0===this._state)return;const e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(1===this._state&&e[1](this._value),2===this._state&&e[2](this._value),e[0]=!0)})}_runExecutor(e){const t=(e,t)=>{0===this._state&&(he(t)?t.then(n,o):(this._state=e,this._value=t,this._executeHandlers()))},n=e=>{t(1,e)},o=e=>{t(2,e)};try{e(n,o)}catch(r){o(r)}}}function Yt(e,t,n,r=0){try{const o=Jt(t,n,e,r);return he(o)?o:qt(o)}catch(o){return Vt(o)}}function Jt(e,t,n,r){const o=n[r];if(!e||!o)return e;const i=o({...e},t);return E&&null===i&&$(`Event processor "${o.id||"?"}" dropped event`),he(i)?i.then(e=>Jt(e,t,n,r+1)):Jt(i,t,n,r+1)}function Xt(e,t){const{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:p,transactionName:f,span:h}=t;Kt(e,"extra",n),Kt(e,"tags",r),Kt(e,"user",o),Kt(e,"contexts",i),e.sdkProcessingMetadata=ze(e.sdkProcessingMetadata,a,2),s&&(e.level=s),f&&(e.transactionName=f),h&&(e.span=h),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function Kt(e,t,n){e[t]=ze(e[t],n,1)}let Zt,Qt,en,tn;function nn(e,t,n,r,o,i){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Ie(),timestamp:t.timestamp||Ge()},c=n.integrations||e.integrations.map(e=>e.name);!function(e,t){var n,r;const{environment:o,release:i,dist:s,maxValueLength:a}=t;e.environment=e.environment||o||Bt,!e.release&&i&&(e.release=i),!e.dist&&s&&(e.dist=s);const l=e.request;(null==l?void 0:l.url)&&a&&(l.url=Se(l.url,a)),a&&(null==(r=null==(n=e.exception)?void 0:n.values)||r.forEach(e=>{e.value&&(e.value=Se(e.value,a))}))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),o&&o.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){var n,r;const o=function(e){const t=w._sentryDebugIds,n=w._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],o=n?Object.keys(n):[];if(tn&&r.length===Qt&&o.length===en)return tn;Qt=r.length,en=o.length,tn={},Zt||(Zt={});const i=(t,n)=>{for(const r of t){const t=n[r],o=null==Zt?void 0:Zt[r];if(o&&tn&&t)tn[o[0]]=t,Zt&&(Zt[r]=[o[0],t]);else if(t){const n=e(r);for(let e=n.length-1;e>=0;e--){const o=n[e],i=null==o?void 0:o.filename;if(i&&tn&&Zt){tn[i]=t,Zt[r]=[i,t];break}}}}};return t&&i(r,t),n&&i(o,n),tn}(t);null==(r=null==(n=e.exception)?void 0:n.values)||r.forEach(e=>{var t,n;null==(n=null==(t=e.stacktrace)?void 0:t.frames)||n.forEach(e=>{e.filename&&(e.debug_id=o[e.filename])})})}(l,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new Je;return n.update(t),n}(r,n.captureContext);n.mechanism&&je(l,n.mechanism);const d=o?o.getEventProcessors():[],p=k("globalScope",()=>new Je).getScopeData();i&&Xt(p,i.getScopeData()),u&&Xt(p,u.getScopeData());const f=[...n.attachments||[],...p.attachments];return f.length&&(n.attachments=f),function(e,t){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;!function(e,t){const{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),s&&(e.level=s),a&&"transaction"!==e.type&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:Dt(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Tt(t),...e.sdkProcessingMetadata};const n=At(Et(t)).description;n&&!e.transaction&&"transaction"===e.type&&(e.transaction=n)}(e,r),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,o),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,i)}(l,p),Yt([...d,...p.eventProcessors],l,n).then(e=>(e&&function(e){var t,n;const r={};if(null==(n=null==(t=e.exception)?void 0:t.values)||n.forEach(e=>{var t,n;null==(n=null==(t=e.stacktrace)?void 0:t.frames)||n.forEach(e=>{e.debug_id&&(e.abs_path?r[e.abs_path]=e.debug_id:e.filename&&(r[e.filename]=e.debug_id),delete e.debug_id)})}),0===Object.keys(r).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const o=e.debug_meta.images;Object.entries(r).forEach(([e,t])=>{o.push({type:"sourcemap",code_file:e,debug_id:t})})}(e),"number"==typeof s&&s>0?function(e,t,n){var r,o;if(!e)return null;const i={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:Ot(e.data,t,n)}}))},...e.user&&{user:Ot(e.user,t,n)},...e.contexts&&{contexts:Ot(e.contexts,t,n)},...e.extra&&{extra:Ot(e.extra,t,n)}};return(null==(r=e.contexts)?void 0:r.trace)&&i.contexts&&(i.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(i.contexts.trace.data=Ot(e.contexts.trace.data,t,n))),e.spans&&(i.spans=e.spans.map(e=>({...e,...e.data&&{data:Ot(e.data,t,n)}}))),(null==(o=e.contexts)?void 0:o.flags)&&i.contexts&&(i.contexts.flags=Ot(e.contexts.flags,3,n)),i}(e,s,a):e))}const rn=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function on(e,t){return nt().captureException(e,function(e){if(e)return function(e){return e instanceof Je||"function"==typeof e}(e)||function(e){return Object.keys(e).some(e=>rn.includes(e))}(e)?{captureContext:e}:e}(t))}function sn(e,t){const n={captureContext:t};return nt().captureMessage(e,void 0,n)}function an(e,t){return nt().captureEvent(e,t)}function ln(e){const t=rt(),n=nt(),{userAgent:r}=w.navigator||{},o=function(e){const t=Le(),n={sid:Ie(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return{sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}(n)};return e&&Ne(n,e),n}({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return"ok"===(null==i?void 0:i.status)&&Ne(i,{status:"exited"}),cn(),t.setSession(o),o}function cn(){const e=rt(),t=nt().getSession()||e.getSession();t&&function(e){let t={};"ok"===e.status&&(t={status:"exited"}),Ne(e,t)}(t),un(),e.setSession()}function un(){const e=rt(),t=ot(),n=e.getSession();n&&t&&t.captureSession(n)}function dn(e=!1){e?cn():un()}const pn=[];function fn(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;if(t.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(n))r=[...t,...n];else if("function"==typeof n){const e=n(t);r=Array.isArray(e)?e:[e]}else r=t;return function(e){const t={};return e.forEach(e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.values(t)}(r)}function hn(e,t){for(const n of t)(null==n?void 0:n.afterAllSetup)&&n.afterAllSetup(e)}function mn(e,t,n){if(n[t.name])E&&$(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,pn.includes(t.name)||"function"!=typeof t.setupOnce||(t.setupOnce(),pn.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if("function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}E&&$(`Integration installed: ${t.name}`)}}function gn(e,t){const n=t??function(e){return yn().get(e)}(e)??[];if(0===n.length)return;const r=e.getOptions(),o=function(e,t,n,r){const o={};return(null==t?void 0:t.sdk)&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=ht(r)),Pt(o,[(i=e,[{type:"log",item_count:i.length,content_type:"application/vnd.sentry.items.log+json"},{items:i}])]);var i}(n,r._metadata,r.tunnel,e.getDsn());yn().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function yn(){return k("clientToLogBufferMap",()=>new WeakMap)}function Dn(e,t){const n=t??function(e){return vn().get(e)}(e)??[];if(0===n.length)return;const r=e.getOptions(),o=function(e,t,n,r){const o={};return(null==t?void 0:t.sdk)&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=ht(r)),Pt(o,[(i=e,[{type:"trace_metric",item_count:i.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:i}])]);var i}(n,r._metadata,r.tunnel,e.getDsn());vn().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(o)}function vn(){return k("clientToMetricBufferMap",()=>new WeakMap)}const Cn=Symbol.for("SentryBufferFullError");function _n(e=100){const t=new Set;function n(e){t.delete(e)}return{get $(){return Array.from(t)},add:function(r){if(!(t.size<e))return Vt(Cn);const o=r();return t.add(o),o.then(()=>n(o),()=>n(o)),o},drain:function(e){if(!t.size)return qt(!0);const n=Promise.allSettled(Array.from(t)).then(()=>!0);if(!e)return n;const r=[n,new Promise(t=>setTimeout(()=>t(!1),e))];return Promise.race(r)}}}function An(e,t,n=_n(e.bufferSize||64)){let r={};return{send:function(o){const i=[];if(jt(o,(t,n)=>{const o=zt(n);!function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,o)?i.push(t):e.recordDroppedEvent("ratelimit_backoff",o)}),0===i.length)return Promise.resolve({});const s=Pt(o[0],i),a=t=>{jt(s,(n,r)=>{e.recordDroppedEvent(t,zt(r))})};return n.add(()=>t({body:Gt(s)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&E&&j(`Sentry responded with status code ${e.statusCode} to sent event.`),r=function(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},i=null==n?void 0:n["x-sentry-rate-limits"],s=null==n?void 0:n["retry-after"];if(i)for(const a of i.trim().split(",")){const[e,t,,,n]=a.split(":",5),i=parseInt(e,10),s=1e3*(isNaN(i)?60:i);if(t)for(const a of t.split(";"))"metric_bucket"===a&&n&&!n.split(";").includes("custom")||(o[a]=r+s);else o.all=r+s}else s?o.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(s,r):429===t&&(o.all=r+6e4);return o}(r,e),e),e=>{throw a("network_error"),E&&U("Encountered error running transport request:",e),e})).then(e=>e,e=>{if(e===Cn)return E&&U("Skipped sending event because buffer is full."),a("queue_overflow"),Promise.resolve({});throw e})},flush:e=>n.drain(e)}}function xn(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];(null==n?void 0:n.value)&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}const En="Not capturing exception because it's already been captured.",wn="Discarded session because of missing or non-string release",bn=Symbol.for("SentryInternalError"),Fn=Symbol.for("SentryDoNotSendEventError");function Sn(e){return{message:e,[bn]:!0}}function kn(e){return{message:e,[Fn]:!0}}function Bn(e){return!!e&&"object"==typeof e&&bn in e}function Mn(e){return!!e&&"object"==typeof e&&Fn in e}function Tn(e,t,n,r,o){let i,s=0,a=!1;e.on(n,()=>{s=0,clearTimeout(i),a=!1}),e.on(t,t=>{s+=r(t),s>=8e5?o(e):a||(a=!0,i=setTimeout(()=>{o(e)},5e3))}),e.on("flush",()=>{o(e)})}class On{constructor(e){var t,n,r,o,i,s;if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=_n((null==(t=e.transportOptions)?void 0:t.bufferSize)??64),e.dsn?this._dsn=function(e){const t="string"==typeof e?function(e){const t=ft.exec(e);if(!t)return void T(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});const[n,r,o="",i="",s="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return mt({host:i,pass:o,path:l,projectId:c,port:s,protocol:n,publicKey:r})}(e):mt(e);if(t&&function(e){if(!E)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(U(`Invalid Sentry Dsn: ${t} missing`),!0))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(U(`Invalid Sentry Dsn: Invalid port ${t}`),1):(U(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(U(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}(e.dsn):E&&j("No DSN provided, client will not send events."),this._dsn){const t=(o=this._dsn,i=e.tunnel,s=e._metadata?e._metadata.sdk:void 0,i||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(o)}?${function(e,t){const n={sentry_version:"7"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}(o,s)}`);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}this._options.enableLogs=this._options.enableLogs??(null==(n=this._options._experiments)?void 0:n.enableLogs),this._options.enableLogs&&Tn(this,"afterCaptureLog","flushLogs",jn,gn),(this._options.enableMetrics??(null==(r=this._options._experiments)?void 0:r.enableMetrics)??1)&&Tn(this,"afterCaptureMetric","flushMetrics",$n,Dn)}captureException(e,t,n){const r=Ie();if(Ue(e))return E&&$(En),r;const o={event_id:r,...t};return this._process(()=>this.eventFromException(e,o).then(e=>this._captureEvent(e,o,n)).then(e=>e),"error"),o.event_id}captureMessage(e,t,n,r){const o={event_id:Ie(),...n},i=ue(e)?e:String(e),s=de(e),a=s?this.eventFromMessage(i,t,o):this.eventFromException(e,o);return this._process(()=>a.then(e=>this._captureEvent(e,o,r)),s?"unknown":"error"),o.event_id}captureEvent(e,t,n){const r=Ie();if((null==t?void 0:t.originalException)&&Ue(t.originalException))return E&&$(En),r;const o={event_id:r,...t},i=e.sdkProcessingMetadata||{},s=i.capturedSpanScope,a=i.capturedSpanIsolationScope,l=In(e.type);return this._process(()=>this._captureEvent(e,o,s||n,a),l),o.event_id}captureSession(e){this.sendSession(e),Ne(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){const t=this._transport;if(!t)return!0;this.emit("flush");const n=await this._isClientDoneProcessing(e),r=await t.flush(e);return n&&r}async close(e){const t=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),t}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];mn(this,e,this._integrations),t||hn(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){const o=Wt(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){var n,r,o,i;if(!t)return e;const s=e.sdk||{};e.sdk={...s,name:s.name||t.name,version:s.version||t.version,integrations:[...(null==(n=e.sdk)?void 0:n.integrations)||[],...t.integrations||[]],packages:[...(null==(r=e.sdk)?void 0:r.packages)||[],...t.packages||[]],settings:(null==(o=e.sdk)?void 0:o.settings)||t.settings?{...null==(i=e.sdk)?void 0:i.settings,...t.settings}:void 0}}(e,null==n?void 0:n.sdk);const s=function(e,t,n,r){var o;const i=null==(o=e.sdkProcessingMetadata)?void 0:o.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:ht(r)},...i&&{trace:i}}}(e,o,r,t);return delete e.sdkProcessingMetadata,Pt(s,[[{type:i},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const r of t.attachments||[])n=$t(n,Lt(r));this.sendEnvelope(n).then(t=>this.emit("afterSendEvent",e,t))}sendSession(e){const{release:t,environment:n=Bt}=this._options;if("aggregates"in e){const r=e.attrs||{};if(!r.release&&!t)return void(E&&j(wn));r.release=r.release||t,r.environment=r.environment||n,e.attrs=r}else{if(!e.release&&!t)return void(E&&j(wn));e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);const r=function(e,t,n,r){const o=Wt(n);return Pt({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:ht(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){const r=`${e}:${t}`;E&&$(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){const n=this._hooks[e]=this._hooks[e]||new Set,r=(...e)=>t(...e);return n.add(r),()=>{n.delete(r)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach(e=>e(...t))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(t){return E&&U("Error while sending envelope:",t),{}}return E&&U("Transport disabled"),{}}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach(t=>{t&&mn(e,t,n)}),n}(this,e),hn(this,e)}_updateSessionFromEvent(e,t){var n,r;let o="fatal"===t.level,i=!1;const s=null==(n=t.exception)?void 0:n.values;if(s){i=!0,o=!1;for(const e of s)if(!1===(null==(r=e.mechanism)?void 0:r.handled)){o=!0;break}}const a="ok"===e.status;(a&&0===e.errors||a&&o)&&(Ne(e,{...o&&{status:"crashed"},errors:e.errors||Number(i||o)}),this.captureSession(e))}async _isClientDoneProcessing(e){let t=0;for(;!e||t<e;){if(await new Promise(e=>setTimeout(e,1)),!this._numProcessing)return!0;t++}return!1}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r){const o=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&(null==i?void 0:i.length)&&(t.integrations=i),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),nn(o,e,t,n,this,r).then(e=>{if(null===e)return e;this.emit("postprocessEvent",e,t),e.contexts={trace:it(n),...e.contexts};const r=function(e,t){const n=t.getPropagationContext();return n.dsc||Mt(n.traceId,e)}(this,n);return e.sdkProcessingMetadata={dynamicSamplingContext:r,...e.sdkProcessingMetadata},e})}_captureEvent(e,t={},n=nt(),r=rt()){return E&&Rn(e)&&$(`Captured error event \`${xn(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then(e=>e.event_id,e=>{E&&(Mn(e)?$(e.message):Bn(e)?j(e.message):j(e))})}_processEvent(e,t,n,r){const o=this.getOptions(),{sampleRate:i}=o,s=Pn(e),a=Rn(e),l=`before send for type \`${e.type||"error"}\``,c=void 0===i?void 0:function(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;return"number"!=typeof t||isNaN(t)||t<0||t>1?void 0:t}(i);if(a&&"number"==typeof c&&Math.random()>c)return this.recordDroppedEvent("sample_rate","error"),Vt(kn(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const u=In(e.type);return this._prepareEvent(e,t,n,r).then(e=>{if(null===e)throw this.recordDroppedEvent("event_processor",u),kn("An event processor returned `null`, will not send event.");if(t.data&&!0===t.data.__sentry__)return e;const n=function(e,t,n,r){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s,ignoreSpans:a}=t;let l=n;if(Rn(l)&&o)return o(l,r);if(Pn(l)){if(s||a){const t=function(e){var t;const{trace_id:n,parent_span_id:r,span_id:o,status:i,origin:s,data:a,op:l}=(null==(t=e.contexts)?void 0:t.trace)??{};return{data:a??{},description:e.transaction,op:l,parent_span_id:r,span_id:o??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:n??"",origin:s,profile_id:null==a?void 0:a[st],exclusive_time:null==a?void 0:a[at],measurements:e.measurements,is_segment:!0}}(l);if((null==a?void 0:a.length)&&Ft(t,a))return null;if(s){const e=s(t);e?l=ze(n,{type:"transaction",timestamp:(c=e).timestamp,start_timestamp:c.start_timestamp,transaction:c.description,contexts:{trace:{trace_id:c.trace_id,span_id:c.span_id,parent_span_id:c.parent_span_id,op:c.op,status:c.status,origin:c.origin,data:{...c.data,...c.profile_id&&{[st]:c.profile_id},...c.exclusive_time&&{[at]:c.exclusive_time}}}},measurements:c.measurements}):wt()}if(l.spans){const t=[],n=l.spans;for(const e of n)if((null==a?void 0:a.length)&&Ft(e,a))St(n,e);else if(s){const n=s(e);n?t.push(n):(wt(),t.push(e))}else t.push(e);const r=l.spans.length-t.length;r&&e.recordDroppedEvent("before_send","span",r),l.spans=t}}if(i){if(l.spans){const e=l.spans.length;l.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return i(l,r)}}var c;return l}(this,o,e,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(he(e))return e.then(e=>{if(!pe(e)&&null!==e)throw Sn(n);return e},e=>{throw Sn(`${t} rejected with ${e}`)});if(!pe(e)&&null!==e)throw Sn(n);return e}(n,l)}).then(o=>{var i;if(null===o){if(this.recordDroppedEvent("before_send",u),s){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw kn(`${l} returned \`null\`, will not send event.`)}const c=n.getSession()||r.getSession();if(a&&c&&this._updateSessionFromEvent(c,o),s){const e=((null==(i=o.sdkProcessingMetadata)?void 0:i.spanCountBeforeProcessing)||0)-(o.spans?o.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const d=o.transaction_info;if(s&&d&&o.transaction!==e.transaction){const e="custom";o.transaction_info={...d,source:e}}return this.sendEvent(o,t),o}).then(null,e=>{if(Mn(e)||Bn(e))throw e;throw this.captureException(e,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:e}),Sn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)})}_process(e,t){this._numProcessing++,this._promiseBuffer.add(e).then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e===Cn&&this.recordDroppedEvent("queue_overflow",t),e))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t}})}_flushOutcomes(){E&&$("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(E&&$("No outcomes to send"));if(!this._dsn)return void(E&&$("No dsn provided, will not send outcomes"));E&&$("Sending outcomes:",e);const t=(n=e,Pt((r=this._options.tunnel&&ht(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:Ge(),discarded_events:n}]]));var n,r;this.sendEnvelope(t)}}function In(e){return"replay_event"===e?"replay":e||"error"}function Rn(e){return void 0===e.type}function Pn(e){return"transaction"===e.type}function $n(e){let t=0;return e.name&&(t+=2*e.name.length),t+=8,t+Un(e.attributes)}function jn(e){let t=0;return e.message&&(t+=2*e.message.length),t+Un(e.attributes)}function Un(e){if(!e)return 0;let t=0;return Object.values(e).forEach(e=>{Array.isArray(e)?t+=e.length*Gn(e[0]):de(e)?t+=Gn(e):t+=100}),t}function Gn(e){return"string"==typeof e?2*e.length:"number"==typeof e?8:"boolean"==typeof e?4:0}function Ln(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Nn(e){var t;"aggregates"in e?void 0===(null==(t=e.attrs)?void 0:t.ip_address)&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}function zn(e,t,n=[t],r="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:b})),version:b}),e._metadata=o}const Wn=100;function qn(e,t){const n=ot(),r=rt();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=Wn}=n.getOptions();if(i<=0)return;const s={timestamp:Ge(),...e},a=o?T(()=>o(s,t)):s;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,i))}let Vn;const Hn=new WeakMap,Yn=()=>({name:"FunctionToString",setupOnce(){Vn=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Ee(this),n=Hn.has(ot())&&void 0!==t?t:this;return Vn.apply(n,e)}}catch{}},setup(e){Hn.set(e,!0)}}),Jn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Xn=(e={})=>{let t;return{name:"EventFilters",setup(n){const r=n.getOptions();t=Zn(e,r)},processEvent(n,r,o){if(!t){const n=o.getOptions();t=Zn(e,n)}return function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(!(null==t?void 0:t.length))return!1;const n=e.transaction;return!!n&&Me(n,t)}(e,t.ignoreTransactions))return E&&j(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Pe(e)}`),!0}else{if(function(e,t){return!!(null==t?void 0:t.length)&&xn(e).some(e=>Me(e,t))}(e,t.ignoreErrors))return E&&j(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Pe(e)}`),!0;if(function(e){var t,n;return!!(null==(n=null==(t=e.exception)?void 0:t.values)?void 0:n.length)&&(!e.message&&!e.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))}(e))return E&&j(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${Pe(e)}`),!0;if(function(e,t){if(!(null==t?void 0:t.length))return!1;const n=Qn(e);return!!n&&Me(n,t)}(e,t.denyUrls))return E&&j(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Pe(e)}.\nUrl: ${Qn(e)}`),!0;if(!function(e,t){if(!(null==t?void 0:t.length))return!0;const n=Qn(e);return!n||Me(n,t)}(e,t.allowUrls))return E&&j(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Pe(e)}.\nUrl: ${Qn(e)}`),!0}return!1}(n,t)?null:n}}},Kn=(e={})=>({...Xn(e),name:"InboundFilters"});function Zn(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Jn],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function Qn(e){var t,n;try{const r=[...(null==(t=e.exception)?void 0:t.values)??[]].reverse().find(e=>{var t,n,r;return void 0===(null==(t=e.mechanism)?void 0:t.parent_id)&&(null==(r=null==(n=e.stacktrace)?void 0:n.frames)?void 0:r.length)}),o=null==(n=null==r?void 0:r.stacktrace)?void 0:n.frames;return o?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(o):null}catch{return E&&U(`Cannot extract url for event ${Pe(e)}`),null}}function er(e,t,n,r,o,i){var s;if(!(null==(s=o.exception)?void 0:s.values)||!i||!me(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=tr(e,t,r,i.originalException,n,o.exception.values,a,0))}function tr(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let l=[...i];if(me(r[o],Error)){nr(s,a);const i=e(t,r[o]),c=l.length;rr(i,o,c,a),l=tr(e,t,n,r[o],o,[i,...l],i,c)}return Array.isArray(r.errors)&&r.errors.forEach((r,i)=>{if(me(r,Error)){nr(s,a);const c=e(t,r),u=l.length;rr(c,`errors[${i}]`,u,a),l=tr(e,t,n,r,o,[c,...l],c,u)}}),l}function nr(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function rr(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const or=new Map,ir=new Set;function sr(){"console"in w&&B.forEach(function(e){e in w.console&&_e(w.console,e,function(t){return M[e]=t,function(...t){Q("console",{args:t,level:e});const n=M[e];null==n||n.apply(w.console,t)}})})}const ar=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){return!!t&&(!!function(e,t){const n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!cr(e,t)&&!!lr(e,t))))}(e,t)||!!function(e,t){const n=ur(t),r=ur(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!cr(e,t)&&!!lr(e,t)))}(e,t))}(t,e))return E&&j("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function lr(e,t){let n=H(e),r=H(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++){const e=r[o],t=n[o];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function cr(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch{return!1}}function ur(e){var t,n;return null==(n=null==(t=e.exception)?void 0:t.values)?void 0:n[0]}const dr="_sentryBundlerPluginAppKey:";function pr(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const fr=w;function hr(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function mr(e,t){const n="fetch";K(n,e),Z(n,()=>function(e,t=!1){t&&!function(){var e;if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in fr))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}())return!1;if(hr(fr.fetch))return!0;let t=!1;const n=fr.document;if(n&&"function"==typeof n.createElement)try{const r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),(null==(e=r.contentWindow)?void 0:e.fetch)&&(t=hr(r.contentWindow.fetch)),n.head.removeChild(r)}catch(r){E&&j("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}()||_e(w,"fetch",function(e){return function(...t){const n=new Error,{method:r,url:o}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:yr(t),method:gr(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:yr(t),method:gr(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:r,url:o},startTimestamp:1e3*Le(),virtualError:n,headers:Dr(t)};return Q("fetch",{...i}),e.apply(w,t).then(async e=>(Q("fetch",{...i,endTimestamp:1e3*Le(),response:e}),e),e=>{if(Q("fetch",{...i,endTimestamp:1e3*Le(),error:e}),ie(e)&&void 0===e.stack&&(e.stack=n.stack,Ae(e,"framesToPop",1)),e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{const t=new URL(i.fetchData.url);e.message=`${e.message} (${t.host})`}catch{}throw e})}})}(0,t))}function gr(e,t){return!!e&&"object"==typeof e&&!!e[t]}function yr(e){return"string"==typeof e?e:e?gr(e,"url")?e.url:e.toString?e.toString():"":""}function Dr(e){const[t,n]=e;try{if("object"==typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if("undefined"!=typeof Request&&me(t,Request))return new Headers(t.headers)}catch{}}const vr=w;let Cr=0;function _r(){return Cr>0}function Ar(e,t={}){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(Ee(e))return e}catch{return e}const n=function(...n){try{const r=n.map(e=>Ar(e,t));return e.apply(this,r)}catch(r){throw Cr++,setTimeout(()=>{Cr--}),function(...e){const t=tt(F());if(2===e.length){const[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}t.withScope(e[0])}(e=>{e.addEventProcessor(e=>(t.mechanism&&($e(e,void 0),je(e,t.mechanism)),e.extra={...e.extra,arguments:n},e)),on(r)}),r}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch{}xe(n,e),Ae(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}function xr(e,t){const n=wr(e,t),r={type:Sr(t),value:kr(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Er(e,t){return{exception:{values:[xr(e,t)]}}}function wr(e,t){const n=t.stacktrace||t.stack||"",r=function(e){return e&&br.test(e.message)?1:0}(t),o=function(e){return"number"==typeof e.framesToPop?e.framesToPop:0}(t);try{return e(n,r,o)}catch{}return[]}const br=/Minified React error #\d+;/i;function Fr(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function Sr(e){const t=null==e?void 0:e.name;return!t&&Fr(e)?e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception":t}function kr(e){const t=null==e?void 0:e.message;return Fr(e)?Array.isArray(e.message)&&2==e.message.length?e.message[1]:"wasm exception":t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Br(e,t,n,r,o){let i;if(ae(t)&&t.error)return Er(e,t.error);if(le(t)||se(t,"DOMException")){const o=t;if("stack"in t)i=Er(e,t);else{const t=o.name||(le(o)?"DOMError":"DOMException"),s=o.message?`${t}: ${o.message}`:t;i=Mr(e,s,n,r),$e(i,s)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return ie(t)?Er(e,t):pe(t)||fe(t)?(i=function(e,t,n,r){const o=ot(),i=null==o?void 0:o.getOptions().normalizeDepth,s=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}(t),a={__serialized__:It(t,i)};if(s)return{exception:{values:[xr(e,s)]},extra:a};const l={exception:{values:[{type:fe(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Tr(t,{isUnhandledRejection:r})}]},extra:a};if(n){const t=wr(e,n);t.length&&(l.exception.values[0].stacktrace={frames:t})}return l}(e,t,n,o),je(i,{synthetic:!0}),i):(i=Mr(e,t,n,r),$e(i,`${t}`),je(i,{synthetic:!0}),i)}function Mr(e,t,n,r){const o={};if(r&&n){const r=wr(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]}),je(o,{synthetic:!0})}if(ue(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return o.logentry={message:e,params:n},o}return o.message=t,o}function Tr(e,{isUnhandledRejection:t}){const n=function(e){const t=Object.keys(we(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}(e),r=t?"promise rejection":"exception";return ae(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:fe(e)?`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class Or extends On{constructor(e){var t;const n=function(e){var t;return{release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:null==(t=vr.SENTRY_RELEASE)?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}(e);zn(n,"browser",["browser"],vr.SENTRY_SDK_SOURCE||"npm"),(null==(t=n._metadata)?void 0:t.sdk)&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:r,sendClientReports:o,enableLogs:i,_experiments:s,enableMetrics:a}=this._options,l=a??(null==s?void 0:s.enableMetrics)??!0;vr.document&&(o||i||l)&&vr.document.addEventListener("visibilitychange",()=>{"hidden"===vr.document.visibilityState&&(o&&this._flushOutcomes(),i&&gn(this),l&&Dn(this))}),r&&this.on("beforeSendSession",Nn)}eventFromException(e,t){return function(e,t,n,r){const o=Br(e,t,(null==n?void 0:n.syntheticException)||void 0,r);return je(o),o.level="error",(null==n?void 0:n.event_id)&&(o.event_id=n.event_id),qt(o)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,o){const i=Mr(e,t,(null==r?void 0:r.syntheticException)||void 0,o);return i.level=n,(null==r?void 0:r.event_id)&&(i.event_id=r.event_id),qt(i)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}}const Ir="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Rr=w;let Pr,$r,jr,Ur;function Gr(){if(!Rr.document)return;const e=Q.bind(null,"dom"),t=Lr(e,!0);Rr.document.addEventListener("click",t,!1),Rr.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{var n,r;const o=null==(n=Rr[t])?void 0:n.prototype;(null==(r=null==o?void 0:o.hasOwnProperty)?void 0:r.call(o,"addEventListener"))&&(_e(o,"addEventListener",function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},i=r[n]=r[n]||{refCount:0};if(!i.handler){const r=Lr(e);i.handler=r,t.call(this,n,r,o)}i.refCount++}catch{}return t.call(this,n,r,o)}}),_e(o,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this.__sentry_instrumentation_handlers__||{},o=n[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch{}return e.call(this,t,n,r)}}))})}function Lr(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch{return null}}(n);if(function(e,t){return"keypress"===e&&(!(null==t?void 0:t.tagName)||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;Ae(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ae(r,"_sentryId",Ie());const o="keypress"===n.type?"input":n.type;(function(e){if(e.type!==$r)return!1;try{if(!e.target||e.target._sentryId!==jr)return!1}catch{}return!0})(n)||(e({event:n,name:o,global:t}),$r=n.type,jr=r?r._sentryId:void 0),clearTimeout(Pr),Pr=Rr.setTimeout(()=>{jr=void 0,$r=void 0},1e3)}}function Nr(e){const t="history";K(t,e),Z(t,zr)}function zr(){function e(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const r=Ur,o=function(e){try{return new URL(e,Rr.location.origin).toString()}catch{return e}}(String(n));if(Ur=o,r===o)return e.apply(this,t);Q("history",{from:r,to:o})}return e.apply(this,t)}}Rr.addEventListener("popstate",()=>{const e=Rr.location.href,t=Ur;Ur=e,t!==e&&Q("history",{from:t,to:e})}),"history"in fr&&fr.history&&(_e(Rr.history,"pushState",e),_e(Rr.history,"replaceState",e))}const Wr={},qr="__sentry_xhr_v3__";function Vr(){if(!Rr.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const r=new Error,o=1e3*Le(),i=ce(n[0])?n[0].toUpperCase():void 0,s=function(e){if(ce(e))return e;try{return e.toString()}catch{}}(n[1]);if(!i||!s)return e.apply(t,n);t[qr]={method:i,url:s,request_headers:{}},"POST"===i&&s.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const a=()=>{const e=t[qr];if(e&&4===t.readyState){try{e.status_code=t.status}catch{}Q("xhr",{endTimestamp:1e3*Le(),startTimestamp:o,xhr:t,virtualError:r})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(a(),e.apply(t,n))}):t.addEventListener("readystatechange",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,o]=n,i=t[qr];return i&&ce(r)&&ce(o)&&(i.request_headers[r.toLowerCase()]=o),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const r=t[qr];return r?(void 0!==n[0]&&(r.body=n[0]),Q("xhr",{startTimestamp:1e3*Le(),xhr:t}),e.apply(t,n)):e.apply(t,n)}})}function Hr(e,t=function(e){const t=Wr[e];if(t)return t;let n=Rr[e];if(hr(n))return Wr[e]=n.bind(Rr);const o=Rr.document;if(o&&"function"==typeof o.createElement)try{const t=o.createElement("iframe");t.hidden=!0,o.head.appendChild(t);const r=t.contentWindow;(null==r?void 0:r[e])&&(n=r[e]),o.head.removeChild(t)}catch(r){Ir&&j(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,r)}return n?Wr[e]=n.bind(Rr):n}("fetch")){let n=0,o=0;return An(e,async function(i){const s=i.body.length;n+=s,o++;const a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&o<15,...e.fetchOptions};try{const n=await t(e.url,a);return{statusCode:n.status,headers:{"x-sentry-rate-limits":n.headers.get("X-Sentry-Rate-Limits"),"retry-after":n.headers.get("Retry-After")}}}catch(r){throw Wr.fetch=void 0,r}finally{n-=s,o--}},_n(e.bufferSize||40))}const Yr="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Jr(e,t,n,r){const o={filename:e,function:"<anonymous>"===t?G:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const Xr=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Kr=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Zr=/\((\S*)(?::(\d+))(?::(\d+))\)/,Qr=/at (.+?) ?\(data:(.+?),/,eo=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,to=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,no=z([30,e=>{const t=e.match(Qr);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=Xr.exec(e);if(n){const[,e,t,r]=n;return Jr(e,G,+t,+r)}const r=Kr.exec(e);if(r){if(r[2]&&0===r[2].indexOf("eval")){const e=Zr.exec(r[2]);e&&(r[2]=e[1],r[3]=e[2],r[4]=e[3])}const[e,t]=ro(r[1]||G,r[2]);return Jr(t,e,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,e=>{const t=eo.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=to.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||G;return[n,e]=ro(n,e),Jr(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),ro=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:G,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},oo=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){var n;t.console&&function(e){const t="console";K(t,e),Z(t,sr)}(function(e){return function(t){if(ot()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:(r=t.level,"warn"===r?"warning":["fatal","error","warning","log","info","debug"].includes(r)?r:"log"),message:ke(t.args," ")};var r;if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${ke(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}qn(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if(ot()!==e)return;let r,o,i="object"==typeof t?t.serializeAttribute:void 0,s="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;s&&s>1024&&(Yr&&j(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=1024),"string"==typeof i&&(i=[i]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=De(t,{keyAttrs:i,maxStringLength:s}),o=function(e){if(!ye.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}(t)}catch{r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};o&&(a.data={"ui.component_name":o}),qn(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),K("dom",n),Z("dom",Gr)),t.xhr&&function(e){K("xhr",e),Z("xhr",Vr)}(function(e){return function(t){if(ot()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,o=t.xhr[qr];if(!n||!r||!o)return;const{method:i,url:s,status_code:a,body:l}=o,c={method:i,url:s,status_code:a},u={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r},d={category:"xhr",data:c,type:"http",level:pr(a)};e.emit("beforeOutgoingRequestBreadcrumb",d,u),qn(d,u)}}(e)),t.fetch&&mr(function(e){return function(t){if(ot()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.fetchData.method,t.fetchData.url,t.error){const o=t.fetchData,i={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r},s={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",s,i),qn(s,i)}else{const o=t.response,i={...t.fetchData,status_code:null==o?void 0:o.status};t.fetchData.request_body_size,t.fetchData.response_body_size,null==o||o.status;const s={input:t.args,response:o,startTimestamp:n,endTimestamp:r},a={category:"fetch",data:i,type:"http",level:pr(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",a,s),qn(a,s)}}}(e)),t.history&&Nr(function(e){return function(t){if(ot()!==e)return;let n=t.from,r=t.to;const o=Ln(vr.location.href);let i=n?Ln(n):void 0;const s=Ln(r);(null==i?void 0:i.path)||(i=o),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),qn({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on("beforeSendEvent",function(e){return function(t){ot()===e&&qn({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Pe(t)},{event:t})}}(e))}}},io=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],so=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&_e(vr,"setTimeout",ao),t.setInterval&&_e(vr,"setInterval",ao),t.requestAnimationFrame&&_e(vr,"requestAnimationFrame",lo),t.XMLHttpRequest&&"XMLHttpRequest"in vr&&_e(XMLHttpRequest.prototype,"send",co);const e=t.eventTarget;e&&(Array.isArray(e)?e:io).forEach(e=>function(e,t){var n,r;const o=null==(n=vr[e])?void 0:n.prototype;(null==(r=null==o?void 0:o.hasOwnProperty)?void 0:r.call(o,"addEventListener"))&&(_e(o,"addEventListener",function(n){return function(r,o,i){try{"function"==typeof o.handleEvent&&(o.handleEvent=Ar(o.handleEvent,{mechanism:{data:{handler:V(o),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&function(e,t,n){e&&"object"==typeof e&&"removeEventListener"in e&&"function"==typeof e.removeEventListener&&e.removeEventListener(t,n)}(this,r,o),n.apply(this,[r,Ar(o,{mechanism:{data:{handler:V(o),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),i])}}),_e(o,"removeEventListener",function(e){return function(t,n,r){try{const o=n.__sentry_wrapped__;o&&e.call(this,t,o,r)}catch{}return e.call(this,t,n,r)}}))}(e,t))}}};function ao(e){return function(...t){const n=t[0];return t[0]=Ar(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${V(e)}`}}),e.apply(this,t)}}function lo(e){return function(t){return e.apply(this,[Ar(t,{mechanism:{data:{handler:V(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function co(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in n&&"function"==typeof n[e]&&_e(n,e,function(t){const n={mechanism:{data:{handler:V(t)},handled:!1,type:`auto.browser.browserapierrors.xhr.${e}`}},r=Ee(t);return r&&(n.mechanism.data.handler=V(r)),Ar(t,n)})}),e.apply(this,t)}}const uo=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(function(e){!function(){const t="error";K(t,t=>{const{stackParser:n,attachStacktrace:r}=fo();if(ot()!==e||_r())return;const{msg:o,url:i,line:s,column:a,error:l}=t,c=function(e,t,n,r){const o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=r,u=n,d=function(e){if(ce(e)&&0!==e.length){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/);return`<data:${t?t[1]:"text/javascript"}${e.includes("base64,")?",base64":""}>`}return e}}(t)??Ce();return 0===l.length&&l.push({colno:c,filename:d,function:G,in_app:!0,lineno:u}),e}(Br(n,l||o,void 0,r,!1),i,s,a);c.level="error",an(c,{originalException:l,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})}),Z(t,te)}()}(e),po("onerror")),t.onunhandledrejection&&(function(e){!function(){const t="unhandledrejection";K(t,t=>{const{stackParser:n,attachStacktrace:r}=fo();if(ot()!==e||_r())return;const o=function(e){if(de(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}(t),i=de(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:Br(n,o,void 0,r,!0);i.level="error",an(i,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})}),Z(t,re)}()}(e),po("onunhandledrejection"))}}};function po(e){Yr&&$(`Global Handler attached: ${e}`)}function fo(){const e=ot();return(null==e?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}const ho=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,o){er(xr,o.getOptions().stackParser,n,t,e,r)}}};function mo(e={}){const t=!e.skipBrowserExtensionCheck&&!!function(){var e;if(void 0===vr.window)return!1;const t=vr;if(t.nw)return!1;const n=t.chrome||t.browser;if(!(null==(e=null==n?void 0:n.runtime)?void 0:e.id))return!1;const r=Ce();return!(vr===vr.top&&["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"].some(e=>r.startsWith(`${e}://`)))}()&&(Yr&&T(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0);let n=null==e.defaultIntegrations?[Kn(),Yn(),so(),oo(),uo(),ho(),ar(),{name:"HttpContext",preprocessEvent(e){var t;if(!vr.navigator&&!vr.location&&!vr.document)return;const n=function(){const e=Ce(),{referrer:t}=vr.document||{},{userAgent:n}=vr.navigator||{};return{url:e,headers:{...t&&{Referer:t},...n&&{"User-Agent":n}}}}(),r={...n.headers,...null==(t=e.request)?void 0:t.headers};e.request={...n,...e.request,headers:r}}},{name:"BrowserSession",setupOnce(){void 0!==vr.document?(ln({ignoreDuration:!0}),dn(),Nr(({from:e,to:t})=>{void 0!==e&&e!==t&&(ln({ignoreDuration:!0}),dn())})):Yr&&j("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}]:e.defaultIntegrations;const r={...e,enabled:!t&&e.enabled,stackParser:(o=e.stackParser||no,Array.isArray(o)?z(...o):o),integrations:fn({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||Hr};var o;return function(e,t){!0===t.debug&&(E?P():T(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),nt().update(t.initialScope);const n=new e(t);return function(e){nt().setClient(e)}(n),n.init(),n}(Or,r)}function go(){}const yo=e=>e;function Do(e,t){for(const n in t)e[n]=t[n];return e}function vo(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}function Co(e){return e()}function _o(){return Object.create(null)}function Ao(e){e.forEach(Co)}function xo(e){return"function"==typeof e}function Eo(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let wo;function bo(e,t){return e===t||(wo||(wo=document.createElement("a")),wo.href=t,e===wo.href)}function Fo(e){return 0===Object.keys(e).length}function So(e,...t){if(null==e){for(const e of t)e(void 0);return go}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ko(e){let t;return So(e,e=>t=e)(),t}function Bo(e,t,n){e.$$.on_destroy.push(So(t,n))}function Mo(e,t,n,r){if(e){const o=To(e,t,n,r);return e[0](o)}}function To(e,t,n,r){return e[1]&&r?Do(n.ctx.slice(),e[1](r(t))):n.ctx}function Oo(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function Io(e,t,n,r,o,i){if(o){const s=To(t,n,r,i);e.p(s,o)}}function Ro(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function Po(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function $o(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function jo(e){const t={};for(const n in e)t[n]=!0;return t}function Uo(e,t,n){return e.set(n),t}function Go(e){return e&&xo(e.destroy)?e.destroy:go}const Lo="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;class No{constructor(e){s(this,"_listeners","WeakMap"in Lo?new WeakMap:void 0),s(this,"_observer"),s(this,"options"),this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){return this._observer??(this._observer=new ResizeObserver(e=>{var t;for(const n of e)No.entries.set(n.target,n),null==(t=this._listeners.get(n.target))||t(n)}))}}var zo;No.entries="WeakMap"in Lo?new WeakMap:void 0,function(e){const t={...e};zn(t,"svelte"),mo(t)}({dsn:"https://acc433251471b3fd759adec5a46312e5@o4507407972630528.ingest.de.sentry.io/4507408148856912",enabled:!0,debug:!1,maxBreadcrumbs:200,beforeSend(e,t){var n,r,o,i,s,a,l,c,u,d,p,f,h,m,g,y,D,v,C,_,A,x,E;return!0===(null==(n=t.data)?void 0:n.isRunningInWebWorker)&&1===(null==(o=null==(r=e.exception)?void 0:r.values)?void 0:o.length)&&"Error"===(null==(i=e.exception.values[0])?void 0:i.type)&&"CanvasRenderer is not yet implemented"===e.exception.values[0].value||1===(null==(a=null==(s=e.exception)?void 0:s.values)?void 0:a.length)&&"Error"===(null==(l=e.exception.values[0])?void 0:l.type)&&"AbortError: The operation was aborted."===e.exception.values[0].value||1===(null==(u=null==(c=e.exception)?void 0:c.values)?void 0:u.length)&&"UnhandledRejection"===(null==(d=e.exception.values[0])?void 0:d.type)&&"Non-Error promise rejection captured with value: status -> 400"===e.exception.values[0].value||1===(null==(f=null==(p=e.exception)?void 0:p.values)?void 0:f.length)&&"UnhandledRejection"===(null==(h=e.exception.values[0])?void 0:h.type)&&"Non-Error promise rejection captured with value: undefined"===e.exception.values[0].value||1===(null==(g=null==(m=e.exception)?void 0:m.values)?void 0:g.length)&&"SecurityError"===(null==(y=e.exception.values[0])?void 0:y.type)&&(null==(D=e.exception.values[0].value)?void 0:D.startsWith("Failed to construct 'Worker'"))&&e.exception.values[0].value.includes("https://play2048-co.translate.goog")||(null==(v=e.message)?void 0:v.endsWith("d+$/"))&&(null==(_=null==(C=e.request)?void 0:C.url)?void 0:_.startsWith("https://play2048-co.translate.goog"))||1===(null==(x=null==(A=e.exception)?void 0:A.values)?void 0:x.length)&&"SecurityError"===(null==(E=e.exception.values[0])?void 0:E.type)&&'Blocked a frame with origin "https://play2048.co" from accessing a cross-origin frame. Protocols, domains, and ports must match.'===e.exception.values[0].value?null:e},integrations:[(zo={filterKeys:["@rbitrary-golden-pumpkin"],behaviour:"drop-error-if-contains-third-party-frames"},{name:"ThirdPartyErrorsFilter",setup(e){e.on("beforeEnvelope",e=>{jt(e,(e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(function(e){var t,n;null==(n=null==(t=e.exception)?void 0:t.values)||n.forEach(e=>{var t,n;null==(n=null==(t=e.stacktrace)?void 0:t.frames)||n.forEach(e=>{delete e.module_metadata})})}(t),e[1]=t)}})}),e.on("applyFrameMetadata",t=>{t.type||function(e,t){var n,r;null==(r=null==(n=t.exception)?void 0:n.values)||r.forEach(t=>{var n,r;null==(r=null==(n=t.stacktrace)?void 0:n.frames)||r.forEach(t=>{if(!t.filename||t.module_metadata)return;const n=function(e,t){return function(e){if(w._sentryModuleMetadata)for(const t of Object.keys(w._sentryModuleMetadata)){const n=w._sentryModuleMetadata[t];if(ir.has(t))continue;ir.add(t);const r=e(t);for(const e of r.reverse())if(e.filename){or.set(e.filename,n);break}}}(e),or.get(t)}(e,t.filename);n&&(t.module_metadata=n)})})}(e.getOptions().stackParser,t)})},processEvent(e){const t=function(e){const t=H(e);if(t)return t.filter(e=>!!e.filename&&null!=(e.lineno??e.colno)).map(e=>e.module_metadata?Object.keys(e.module_metadata).filter(e=>e.startsWith(dr)).map(e=>e.slice(dr.length)):[])}(e);if(t&&t["drop-error-if-contains-third-party-frames"===zo.behaviour||"apply-tag-if-contains-third-party-frames"===zo.behaviour?"some":"every"](e=>!e.some(e=>zo.filterKeys.includes(e)))){if("drop-error-if-contains-third-party-frames"===zo.behaviour||"drop-error-if-exclusively-contains-third-party-frames"===zo.behaviour)return null;e.tags={...e.tags,third_party_code:!0}}return e}})]});var Wo=function(e,t){return(Wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};"function"==typeof SuppressedError&&SuppressedError;var qo="Invariant Violation",Vo=Object.setPrototypeOf,Ho=void 0===Vo?function(e,t){return e.__proto__=t,e}:Vo,Yo=function(e){function t(n){void 0===n&&(n=qo);var r=e.call(this,"number"==typeof n?qo+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=qo,Ho(r,t.prototype),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Wo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function Jo(e,t){if(!e)throw new Yo(t)}var Xo,Ko=["debug","log","warn","error","silent"],Zo=Ko.indexOf("log");function Qo(e){return function(){if(Ko.indexOf(e)>=Zo)return(console[e]||console.log).apply(console,arguments)}}(Xo=Jo||(Jo={})).debug=Qo("debug"),Xo.log=Qo("log"),Xo.warn=Qo("warn"),Xo.error=Qo("error");const ei=Jo,ti="next.play2048.co, play2048.co, play2048-stag.com".split(",").map(e=>e.trim()),ni="1FAIpQLScZldyVgauCIUTfGVlV90-7Za_6kYUSMGcaNmh6WGIfOAK_RA",ri=()=>new URLSearchParams(self.location.search),oi=ri().has("dbg"),ii=new Date>new Date("2025-09-01T17:00:00Z"),si=(null==(t=null==(e=null==globalThis?void 0:globalThis.document)?void 0:e.querySelector("title"))?void 0:t.dataset.original)??(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.title);ti.indexOf(self.location.hostname);const ai="localhost"===self.location.hostname||self.location.hostname.startsWith("127.")||self.location.hostname.startsWith("192.168."),li=oi&&(ai||!0),ci=ai||oi,ui=[];function di(e,t){return{subscribe:pi(e,t).subscribe}}function pi(e,t=go){let n;const r=new Set;function o(t){if(Eo(e,t)&&(e=t,n)){const t=!ui.length;for(const n of r)n[1](),ui.push(n,e);if(t){for(let e=0;e<ui.length;e+=2)ui[e][0](ui[e+1]);ui.length=0}}}function i(t){o(t(e))}return{set:o,update:i,subscribe:function(s,a=go){const l=[s,a];return r.add(l),1===r.size&&(n=t(o,i)||go),s(e),()=>{r.delete(l),0===r.size&&n&&(n(),n=null)}}}}function fi(e,t,n){const r=!Array.isArray(e),o=r?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return di(n,(e,n)=>{let s=!1;const a=[];let l=0,c=go;const u=()=>{if(l)return;c();const o=t(r?a[0]:a,e,n);i?e(o):c=xo(o)?o:go},d=o.map((e,t)=>So(e,e=>{a[t]=e,l&=~(1<<t),s&&u()},()=>{l|=1<<t}));return s=!0,u(),function(){Ao(d),c(),s=!1}})}var hi,mi,gi={exports:{}};var yi=function(e){function t(e){let r,o,i,s=null;function a(...e){if(!a.enabled)return;const n=a,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return"%";s++;const i=t.formatters[o];if("function"==typeof i){const t=e[s];r=i.call(n,t),e.splice(s,1),s--}return r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e,t){let n=0,r=0,o=-1,i=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(o=r,i=n,r++):(n++,r++);else{if(-1===o)return!1;r=o+1,i++,n=i}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const r of n)"-"===r[0]?t.skips.push(r.slice(1)):t.names.push(r)},t.enabled=function(e){for(const n of t.skips)if(r(e,n))return!1;for(const n of t.names)if(r(e,n))return!0;return!1},t.humanize=function(){if(mi)return hi;mi=1;var e=1e3,t=60*e,n=60*t,r=24*n,o=7*r;function i(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}return hi=function(s,a){a=a||{};var l,c,u=typeof s;if("string"===u&&s.length>0)return function(i){if(!((i=String(i)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*o;case"days":case"day":case"d":return a*r;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*t;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(s);if("number"===u&&isFinite(s))return a.long?(l=s,(c=Math.abs(l))>=r?i(l,c,r,"day"):c>=n?i(l,c,n,"hour"):c>=t?i(l,c,t,"minute"):c>=e?i(l,c,e,"second"):l+" ms"):function(o){var i=Math.abs(o);return i>=r?Math.round(o/r)+"d":i>=n?Math.round(o/n)+"h":i>=t?Math.round(o/t)+"m":i>=e?Math.round(o/e)+"s":o+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))},hi}(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};!function(e,t){var n={};t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(r){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=n.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=yi(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}(gi,gi.exports);const Di=a(gi.exports);let vi,Ci=0;function _i(){const e=Date.now();return e!==vi&&(vi=e,Ci=0),`${e.toString(36)}${(Ci++).toString(36)}`}const Ai=["apple","blue","buzz","cat","dog","fizz","flower","green","house","ice","jack","jazz","joy","jump","king","lion","monkey","night","orange","purple","quartz","queen","quick","quiz","rain","red","snake","tree","vex","violet","vivid","wax","white","yacht","yellow","zebra","zoo"];function xi(e,t=!0){const n=[];for(let r=0;r<3;r++){let e;do{e=Ai[Math.floor(Math.random()*Ai.length)]}while(n.includes(e));n.push(e)}return n.join("-")+(t?` (${e})`:"")}function Ei(e){throw new Error("assertNever failed")}var wi=(e=>(e.Fresh="fresh",e.Playing="playing",e.GameOver="gameOver",e.GameWon="gameWon",e.Selecting="selecting",e))(wi||{}),bi={exports:{}};!function(e,t){function n(e){var t=this,n=function(){var e=4022871197;return function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var o=new n(e),i=t&&t.state,s=o.next;return s.int32=function(){return 4294967296*o.next()|0},s.double=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.quick=s,i&&("object"==typeof i&&r(i,o),s.state=function(){return r(o,{})}),s}t&&t.exports?t.exports=o:this.alea=o}(0,bi);var Fi=bi.exports,Si={exports:{}};!function(e,t){function n(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var o=new n(e),i=t&&t.state,s=function(){return(o.next()>>>0)/4294967296};return s.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=o.next,s.quick=s,i&&("object"==typeof i&&r(i,o),s.state=function(){return r(o,{})}),s}t&&t.exports?t.exports=o:this.xor128=o}(0,Si);var ki=Si.exports,Bi={exports:{}};!function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var o=new n(e),i=t&&t.state,s=function(){return(o.next()>>>0)/4294967296};return s.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=o.next,s.quick=s,i&&("object"==typeof i&&r(i,o),s.state=function(){return r(o,{})}),s}t&&t.exports?t.exports=o:this.xorwow=o}(0,Bi);var Mi=Bi.exports,Ti={exports:{}};!function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var o=new n(e),i=t&&t.state,s=function(){return(o.next()>>>0)/4294967296};return s.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=o.next,s.quick=s,i&&(i.x&&r(i,o),s.state=function(){return r(o,{})}),s}t&&t.exports?t.exports=o:this.xorshift7=o}(0,Ti);var Oi=Ti.exports,Ii={exports:{}};!function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,s,a=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),o=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(s=s+1640531527|0,o=0==(n=a[127&i]^=r+s)?o+1:0);for(o>=128&&(a[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=a[o+34&127],n=a[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,a[o]=r^n;e.w=s,e.X=a,e.i=o}(t,e)}function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var o=new n(e),i=t&&t.state,s=function(){return(o.next()>>>0)/4294967296};return s.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=o.next,s.quick=s,i&&(i.X&&r(i,o),s.state=function(){return r(o,{})}),s}t&&t.exports?t.exports=o:this.xor4096=o}(0,Ii);var Ri=Ii.exports,Pi={exports:{}};!function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var o=new n(e),i=t&&t.state,s=function(){return(o.next()>>>0)/4294967296};return s.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=o.next,s.quick=s,i&&("object"==typeof i&&r(i,o),s.state=function(){return r(o,{})}),s}t&&t.exports?t.exports=o:this.tychei=o}(0,Pi);var $i=Pi.exports,ji={exports:{}};const Ui=c(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Gi;Gi=ji,function(e,t,n){var o,i=256,s="random",a=n.pow(i,6),l=n.pow(2,52),c=2*l,u=255;function d(u,d,y){var D=[],v=m(h((d=1==d?{entropy:!0}:d||{}).entropy?[u,g(t)]:null==u?function(){try{var n;return o&&(n=o.randomBytes)?n=n(i):(n=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(n)),g(n)}catch(r){var s=e.navigator,a=s&&s.plugins;return[+new Date,e,a,e.screen,g(t)]}}():u,3),D),C=new p(D),_=function(){for(var e=C.g(6),t=a,n=0;e<l;)e=(e+n)*i,t*=i,n=C.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return _.int32=function(){return 0|C.g(4)},_.quick=function(){return C.g(4)/4294967296},_.double=_,m(g(C.S),t),(d.pass||y||function(e,t,r,o){return o&&(o.S&&f(o,C),e.state=function(){return f(C,{})}),r?(n[s]=e,t):e})(_,v,"global"in d?d.global:this==n,d.state)}function p(e){var t,n=e.length,r=this,o=0,s=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);o<i;)a[o]=o++;for(o=0;o<i;o++)a[o]=a[s=u&s+e[o%n]+(t=a[o])],a[s]=t;(r.g=function(e){for(var t,n=0,o=r.i,s=r.j,a=r.S;e--;)t=a[o=u&o+1],n=n*i+a[u&(a[o]=a[s=u&s+t])+(a[s]=t)];return r.i=o,r.j=s,n})(i)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function h(e,t){var n,o=[],i=typeof e;if(t&&"object"==i)for(n in e)try{o.push(h(e[n],t-1))}catch(r){}return o.length?o:"string"==i?e:e+"\0"}function m(e,t){for(var n,r=e+"",o=0;o<r.length;)t[u&o]=u&(n^=19*t[u&o])+r.charCodeAt(o++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(m(n.random(),t),Gi.exports){Gi.exports=d;try{o=Ui}catch(y){}}else n["seed"+s]=d}("undefined"!=typeof self?self:l,[],Math);var Li=Fi,Ni=ki,zi=Mi,Wi=Oi,qi=Ri,Vi=$i,Hi=ji.exports;Hi.alea=Li,Hi.xor128=Ni,Hi.xorwow=zi,Hi.xorshift7=Wi,Hi.xor4096=qi,Hi.tychei=Vi;const Yi=a(Hi);function Ji(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zi(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ki(e,t)}function Ki(e,t){return(Ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Zi(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var Qi=function(){function e(){}return e.prototype._seed=function(e,t){if(e===(e||0))return e;for(var n=""+e,r=0,o=0;o<n.length;++o)r^=0|n.charCodeAt(o);return r},e}(),es=function(e){function t(t,n){var r;return(r=e.call(this)||this)._rng=void 0,r.seed(t,n),r}Xi(t,e);var n=t.prototype;return n.next=function(){return this._rng()},n.seed=function(e,t){this._rng=e},n.clone=function(e,n){return new t(this._rng,n)},Ji(t,[{key:"name",get:function(){return"function"}}]),t}(Qi),ts=function(){var e=[].slice.call(arguments),t=e[0],n=void 0===t?"default":t;switch(typeof n){case"object":if(n instanceof Qi)return n;break;case"function":return new es(n);default:return new es(Yi.apply(void 0,e))}throw new Error('invalid RNG "'+n+'"')},ns=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),function(){return e.next()*(n-t)+t}};function rs(e){return new os(e)}var os=function(e){var t=this;this.n=void 0,this.isInt=function(){if(Number.isInteger(t.n))return t;throw new Error("Expected number to be an integer, got "+t.n)},this.isPositive=function(){if(t.n>0)return t;throw new Error("Expected number to be positive, got "+t.n)},this.lessThan=function(e){if(t.n<e)return t;throw new Error("Expected number to be less than "+e+", got "+t.n)},this.greaterThanOrEqual=function(e){if(t.n>=e)return t;throw new Error("Expected number to be greater than or equal to "+e+", got "+t.n)},this.greaterThan=function(e){if(t.n>e)return t;throw new Error("Expected number to be greater than "+e+", got "+t.n)},this.n=e},is=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),void 0===n&&(n=void 0===t?1:t,t=0),rs(t).isInt(),rs(n).isInt(),function(){return Math.floor(e.next()*(n-t+1)+t)}},ss=function(e){return function(){return e.next()>=.5}},as=[0,0,.6931471805599453,1.791759469228055,3.1780538303479458,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469],ls=function(e){return as[e]},cs=function(e){function t(){return e.apply(this,arguments)||this}Xi(t,e);var n=t.prototype;return n.next=function(){return Math.random()},n.seed=function(e,t){},n.clone=function(){return new t},Ji(t,[{key:"name",get:function(){return"default"}}]),t}(Qi),us=function(){function e(e){var t=this;this._rng=void 0,this._patch=void 0,this._cache={},this.next=function(){return t._rng.next()},this.float=function(e,n){return t.uniform(e,n)()},this.int=function(e,n){return t.uniformInt(e,n)()},this.integer=function(e,n){return t.uniformInt(e,n)()},this.bool=function(){return t.uniformBoolean()()},this.boolean=function(){return t.uniformBoolean()()},this.uniform=function(e,n){return t._memoize("uniform",ns,e,n)},this.uniformInt=function(e,n){return t._memoize("uniformInt",is,e,n)},this.uniformBoolean=function(){return t._memoize("uniformBoolean",ss)},this.normal=function(e,n){return function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),function(){var r,o,i;do{i=(r=2*e.next()-1)*r+(o=2*e.next()-1)*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}(t,e,n)},this.logNormal=function(e,n){return function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=1);var r=e.normal(t,n);return function(){return Math.exp(r())}}(t,e,n)},this.bernoulli=function(e){return function(e,t){return void 0===t&&(t=.5),rs(t).greaterThanOrEqual(0).lessThan(1),function(){return Math.floor(e.next()+t)}}(t,e)},this.binomial=function(e,n){return function(e,t,n){return void 0===t&&(t=1),void 0===n&&(n=.5),rs(t).isInt().isPositive(),rs(n).greaterThanOrEqual(0).lessThan(1),function(){for(var r=0,o=0;r++<t;)e.next()<n&&o++;return o}}(t,e,n)},this.geometric=function(e){return function(e,t){void 0===t&&(t=.5),rs(t).greaterThan(0).lessThan(1);var n=1/Math.log(1-t);return function(){return Math.floor(1+Math.log(e.next())*n)}}(t,e)},this.poisson=function(e){return function(e,t){if(void 0===t&&(t=1),rs(t).isPositive(),t<10){var n=Math.exp(-t);return function(){for(var r=n,o=0,i=e.next();i>r;)i-=r,r=t*r/++o;return o}}var r=Math.sqrt(t),o=.931+2.53*r,i=.02483*o-.059,s=1.1239+1.1328/(o-3.4),a=.9277-3.6224/(o-2);return function(){for(;;){var n=void 0,l=e.next();if(l<=.86*a)return n=l/a-.43,Math.floor((2*i/(.5-Math.abs(n))+o)*n+t+.445);l>=a?n=e.next()-.5:(n=((n=l/a-.93)<0?-.5:.5)-n,l=e.next()*a);var c=.5-Math.abs(n);if(!(c<.013&&l>c)){var u=Math.floor((2*i/c+o)*n+t+.445);if(l=l*s/(i/(c*c)+o),u>=10){var d=(u+.5)*Math.log(t/u)-t-.9189385332046727+u-(1/12-(1/360-1/(1260*u*u))/(u*u))/u;if(Math.log(l*r)<=d)return u}else if(u>=0){var p,f=null!=(p=ls(u))?p:0;if(Math.log(l)<=u*Math.log(t)-t-f)return u}}}}}(t,e)},this.exponential=function(e){return function(e,t){return void 0===t&&(t=1),rs(t).isPositive(),function(){return-Math.log(1-e.next())/t}}(t,e)},this.irwinHall=function(e){return function(e,t){return void 0===t&&(t=1),rs(t).isInt().greaterThanOrEqual(0),function(){for(var n=0,r=0;r<t;++r)n+=e.next();return n}}(t,e)},this.bates=function(e){return function(e,t){void 0===t&&(t=1),rs(t).isInt().isPositive();var n=e.irwinHall(t);return function(){return n()/t}}(t,e)},this.pareto=function(e){return function(e,t){void 0===t&&(t=1),rs(t).greaterThanOrEqual(0);var n=1/t;return function(){return 1/Math.pow(1-e.next(),n)}}(t,e)},e&&e instanceof Qi?this.use(e):this.use(new cs),this._cache={}}var t=e.prototype;return t.clone=function(){var t=[].slice.call(arguments);return t.length?new e(ts.apply(void 0,t)):new e(this.rng.clone())},t.use=function(){this._rng=ts.apply(void 0,[].slice.call(arguments))},t.patch=function(){if(this._patch)throw new Error("Math.random already patched");this._patch=Math.random,Math.random=this.uniform()},t.unpatch=function(){this._patch&&(Math.random=this._patch,delete this._patch)},t.choice=function(e){if(!Array.isArray(e))throw new Error("Random.choice expected input to be an array, got "+typeof e);var t=null==e?void 0:e.length;return t>0?e[this.uniformInt(0,t-1)()]:void 0},t._memoize=function(e,t){var n=[].slice.call(arguments,2),r=""+n.join(";"),o=this._cache[e];return void 0!==o&&o.key===r||(o={key:r,distribution:t.apply(void 0,[this].concat(n))},this._cache[e]=o),o.distribution},Ji(e,[{key:"rng",get:function(){return this._rng}}]),e}(),ds=new us;function ps(e,t,n){const r={id:(null==n?void 0:n.id)??_i(),value:e,position:t};return(null==n?void 0:n.previousPosition)&&(r.previousPosition=n.previousPosition),(null==n?void 0:n.merges)&&(r.merges=n.merges),r}function fs(e,t){return{x:e.x+t.x,y:e.y+t.y}}function hs(e,t){return e.x===t.x&&e.y===t.y}function ms(e){switch(e){case gs.Up:return{x:0,y:-1};case gs.Right:return{x:1,y:0};case gs.Down:return{x:0,y:1};case gs.Left:return{x:-1,y:0};default:Ei()}}var gs=(e=>(e.Up="up",e.Right="right",e.Down="down",e.Left="left",e))(gs||{});function ys(e,t,n,r,o=!0){t?Ds(e,t,n,r,o):(o&&As(e,n,null),As(e,r,null))}function Ds(e,t,n,r,o=!0){o&&As(e,n,null),As(e,r,ps(t.value,r,{id:t.id,previousPosition:n}))}function vs(e){return e[0]?{width:e[0].length,height:e.length}:{width:0,height:0}}function Cs(e,t){var n;const{x:r,y:o}=t;return null==(n=null==e?void 0:e[o])?void 0:n[r]}function _s(e,t,n){let r,o=Cs(e,t);do{r=t,o=Cs(e,t=fs(t,n))}while(void 0!==o&&null===o);return{emptyPosition:r,obstacle:void 0===o?{type:"boundary"}:{type:"tile",tile:o,position:t}}}function As(e,t,n){const r=e[t.y];Jo(r,`Invalid position: ${t} for board of size ${Object.values(vs(e))}`),r[t.x]=n}function xs(e){return e.some(e=>e.some(e=>null===e))}function Es(e,t,n=function(e){const t=[];return Fs(e,(e,n)=>{null===e&&t.push(n)}),t}(e)){const r=n.filter(t=>null===Cs(e,t)),o=t.choice(r);if(!o)return{change:null,board:e};const i=ps(t.float()<.9?2:4,o),s=ks(e,(e,t)=>hs(t,o)?i:e);return{change:{type:"tileAdded",position:o,tileId:i.id},board:s}}function ws(e,t=!1){return t?Ss(e):e.map(e=>e.slice())}function bs(e,t){return Array(t).fill(null).map(()=>Array(e).fill(null))}function Fs(e,t){const{width:n}=vs(e);e.flat().forEach((e,r)=>{const o=r%n,i=Math.floor(r/n);t(e,{x:o,y:i})})}function Ss(e){return ks(e,e=>null===e?null:ps(e.value,e.position,{id:e.id}))}function ks(e,t){return e.map((e,n)=>e.map((e,r)=>t(e,{x:r,y:n})))}function Bs(e,t){const{width:n}=vs(e);return e.flat().map((e,r)=>{const o=r%n,i=Math.floor(r/n);return t(e,{x:o,y:i})})}function Ms(e,t,n){const{width:r}=vs(e);return e.flat().reduce((e,n,o)=>{const i=o%r,s=Math.floor(o/r);return t(e,n,{x:i,y:s})},n)}function Ts(e,t){return e.flat().find(e=>(null==e?void 0:e.id)===t)}function Os(e,t){let n;return Fs(t,(t,r)=>{(null==t?void 0:t.id)===e&&(n=r)}),n}function Is(e){return Ms(e,(e,t)=>t?e+1:e,0)}function Rs(e,t){!function(e,t){Jo(e.state===t,`Expected gameplay to be in state "${t}", but was in state "${e.state}"`)}(e,wi.Selecting),Jo(e.selection.type===t,`Expected selection to be of type "${t}", but was of type "${e.selection.type}"`)}function Ps(e,t){var n;!function(e,t){Jo(e,"Expected gameplay to be defined"),Jo(e.state===t,`Expected gameplay to be in state "${t}", but was in state "${e.state}"`)}(e,wi.Selecting),Jo(e.selection&&e.selection.type===t,`Expected selection to be of type "${t}", but was of type "${null==(n=e.selection)?void 0:n.type}"`)}var $s=(e=>(e.Clockwise="clockwise",e.CounterClockwise="counterClockwise",e))($s||{});const js=[gs.Up,gs.Right,gs.Down,gs.Left].map(ms);function Us(e,t){var n;let r;switch(t.type){case"move":r=function(e,t){{if(e.state===wi.GameOver||e.state===wi.GameWon||e.state===wi.Selecting)return e;const n=function(e,t){const n=ks(e,(e,t)=>e?ps(e.value,t,{id:e.id}):e),r=ms(t),o=function(e,t){const n=vs(e),r={x:Array.from({length:n.width},(e,t)=>t),y:Array.from({length:n.height},(e,t)=>t)};return 1===t.x&&(r.x=r.x.reverse()),1===t.y&&(r.y=r.y.reverse()),r}(e,r);let i=!1,s=0;const a=[];o.x.forEach(e=>{o.y.forEach(t=>{const o={x:e,y:t},l=Cs(n,o);if(!l)return;const c=_s(n,o,r);if("tile"!==c.obstacle.type||(u=l,d=c.obstacle.tile,u.merges||d.merges||u.value!==d.value)){if(hs(o,c.emptyPosition))return;Ds(n,l,o,c.emptyPosition),a.push(l.id)}else{const e=function(e,t,n,r,o,i){let s=o;i&&(ei(n.previousPosition,"Target tile is missing previous position"),s=n.previousPosition);const a=ps(t.value+n.value,o,{merges:[ps(t.value,o,{id:t.id,previousPosition:r}),ps(n.value,o,{id:n.id,previousPosition:s})]});return As(e,r,null),As(e,o,a),a}(n,l,c.obstacle.tile,o,c.obstacle.position,a.includes(c.obstacle.tile.id));s+=e.value}var u,d;i=!0})});const l=function(e){return Bs(e,e=>{if(!e)return null;if(e.merges){const[t,n]=e.merges;return ei(t.previousPosition&&n.previousPosition,"Tile merge is missing previous position"),{type:"tileMerged",tileA:{tileId:t.id,position:t.previousPosition},tileB:{tileId:n.id,position:n.previousPosition},resultingTile:{tileId:e.id,position:e.position}}}return e.previousPosition&&!hs(e.previousPosition,e.position)?{type:"tileMoved",tileId:e.id,from:e.previousPosition,to:e.position}:null}).filter(e=>null!==e)}(n);return i?{anyMoved:!0,board:n,changes:l,score:s}:{anyMoved:!1}}(e.board,t);if(!n.anyMoved)return e;const r=Es(n.board,e._rng.rng),o=r.board;Jo(r.change,"Unexpected: no tile was added to boards");const{powerups:i,changes:s}=function(e,t,n){var r,o;const i=[],s={...e};for(const a of n)if("tileMerged"===a.type){const e=a.resultingTile.tileId,n=null==(r=Ts(t,e))?void 0:r.value;Jo(n,`Could not find value for tile ${e}`);const l=ta[n];if(!l)continue;const c=l.reduce((e,t)=>{const n=s[t];return n&&n.usesRemaining<ra[t].usesLimit&&e.push({powerup:t,usesRemaining:n.usesRemaining}),e},[]).sort((e,t)=>e.usesRemaining-t.usesRemaining);if(c&&c.length>0){const e=null==(o=c[0])?void 0:o.powerup;Jo(e,"No powerup was chosen for accrual");const t=s[e];Jo(t,"Powerup state not found"),s[e]={...t,usesRemaining:t.usesRemaining+1},i.push({type:"powerupAccrued",powerup:e})}}return{powerups:s,changes:[...n,...i]}}(e.powerups,o,[...n.changes,r.change]);return{...e,state:wi.Playing,board:o,moveCount:e.moveCount+1,score:e.score+n.score,previousGameplay:Gs(e),powerups:i,changes:s}}}(e,t.direction);break;case"activatePowerup":r=function(e,t){if(!sa(e,t))return e;const n=ia[t].activate(e);switch(n.type){case"notActivated":return e;case"activated":return n.gameplay;case"activatedAndCompleted":return ca(n.gameplay,t);default:Ei()}}(e,t.powerup);break;case"completePowerup":r=function(e,t){if(e.state!==wi.Selecting)return e;const{complete:n}=ia[t];if(!n)throw new Error(`Powerup ${t} does not support completing.`);const r=n(e);switch(r.type){case"notCompleted":return e;case"completed":return ca(r.gameplay,t);default:Ei()}}(e,t.currentPowerup);break;case"cancelPowerup":r=function(e,t){return la(e,t)&&e.previousGameplay?{...e.previousGameplay,changes:[]}:e}(e,t.powerup);break;case"select":r=function(e,t){if(e.state!==wi.Selecting)return e;switch(e.selection.type){case"multipleTile":return Rs(e,"multipleTile"),ei("position"===t.type,"Invalid selection target type"),function(e,t){const{selection:n}=e;ei(n.tiles.length<n.amount,"Too many tiles selected");const r=Cs(e.board,t);if(null==r||n.tiles.find(e=>e===r.id))return e;const o={...e,selection:{...n,tiles:[...n.tiles,r.id]}};return o.selection.tiles.length===o.selection.amount?Us(o,o.actionOnSelectionComplete):o}(e,t.position);case"adjacentTilesDirectional":return Rs(e,"adjacentTilesDirectional"),ei("position"===t.type,"Invalid selection target type"),function(e,t){const{selection:n}=e;ei(!n.origin&&!n.target||n.origin&&!n.target,"Invalid selection state");const r=Cs(e.board,t);if(!r)return e;if(n.origin){const r=Os(n.origin,e.board);if(ei(r,`Could not find position of tile with id ${n.origin}`),!(t.x===r.x&&1===Math.abs(t.y-r.y)||t.y===r.y&&1===Math.abs(t.x-r.x)))return e}else if(!js.some(n=>{const r=fs(t,n);return null!=Cs(e.board,r)}))return e;const o={...e,selection:{...n,[n.origin?"target":"origin"]:r.id}};return o.selection.origin&&o.selection.target?Us(o,o.actionOnSelectionComplete):o}(e,t.position);case"singleCell":return Rs(e,"singleCell"),ei("position"===t.type,"Invalid selection target type"),function(e,t){const{selection:n}=e;ei(null===n.position,"Invalid selection state, position already set");const r={...e,selection:{...n,position:t}};return Us(r,r.actionOnSelectionComplete)}(e,t.position);case"bomb":return Rs(e,"bomb"),ei("position"===t.type,"Invalid selection target type"),function(e,t){const{selection:n}=e;ei(null===n.position,"Invalid selection state, position already set");const{width:r,height:o}=vs(e.board),i=Math.max(0,t.x-1),s=Math.max(0,t.y-1),a=Math.min(r-1,t.x+1),l=Math.min(o-1,t.y+1);let c=!1;for(let d=i;d<=a;d++)for(let t=s;t<=l;t++)if(Cs(e.board,{x:d,y:t})){c=!0;break}if(!c)return e;const u={...e,selection:{...n,position:t}};return Us(u,u.actionOnSelectionComplete)}(e,t.position);case"singleTile":throw Rs(e,"singleTile"),ei("position"===t.type,"Invalid selection target type"),new Error("Not implemented");case"byValue":return Rs(e,"byValue"),ei("position"===t.type,"Invalid selection target type"),function(e,t){const{selection:n}=e;ei(null===n.value,"Invalid selection state, value already set");const r=Cs(e.board,t);if(!r)return e;const o={...e,selection:{...n,value:r.value}};return Us(o,o.actionOnSelectionComplete)}(e,t.position);case"rotation":return Rs(e,"rotation"),ei("rotation"===t.type,"Invalid selection target type"),function(e,t){const{selection:n}=e;ei(null===n.direction,"Invalid selection state, direction already set");const r={...e,selection:{...n,direction:t}};return Us(r,r.actionOnSelectionComplete)}(e,t.direction);case"tileAndEmptyCell":return Rs(e,"tileAndEmptyCell"),ei("position"===t.type,"Invalid selection target type"),function(e,t){const{selection:{emptyCell:n,tile:r}}=e;ei(null===r||null===n,"Invalid selection state both tile and empty cell already set");const o=Cs(e.board,t);if(ei(void 0!==o,`${t} is out of bounds`),null===r)return ei(null===n,"Empty cell is already set"),null===o?e:{...e,selection:{...e.selection,tile:o.id}};{if(ei(null===n,"Empty cell is already set"),null!==o)return e;const r={...e,selection:{...e.selection,emptyCell:t}};return Us(r,r.actionOnSelectionComplete)}}(e,t.position);default:Ei(e.selection)}}(e,t.target);break;case"continueAfterWin":r=function(e){return e.state!==wi.GameWon?e:{...e,state:wi.Playing,previousGameplay:null,changes:[]}}(e);break;default:Ei()}return r!==e&&(r.lastAction===e.lastAction||"previousGameplay"in e&&r.lastAction===(null==(n=e.previousGameplay)?void 0:n.lastAction))&&(r.lastAction=t),r=zs(r),r=function(e){const{state:t,board:n}=e;return t===wi.Selecting||t===wi.Fresh||t===wi.GameWon||t===wi.GameOver?e:function(e){return xs(e)||function(e){let t=!1;return Fs(e,(n,r)=>{if(null!==n)for(const o of Object.values(gs)){const i=ms(o),{obstacle:s}=_s(e,r,i);"tile"===s.type&&s.tile.value===n.value&&(t=!0)}}),t}(e)}(n)?function(e){return!!e.previousGameplay&&1024===e.previousGameplay.highestReachedTile&&2048===e.highestReachedTile}(e)?{...e,state:wi.GameWon}:e:{...e,state:wi.GameOver}}(r),r}function Gs(e){return e.state===wi.Fresh?e:{...e,previousGameplay:null}}function Ls(e,t,n=oa,r){r=r??ds.float().toString();const o=Yi(r,{state:!0}),i=ds.clone(o);let s=function(e,t){return bs(e,t)}(e,t);const a=[];for(let l=0;l<2;l++){const e=Es(s,i);s=e.board,Jo(e.change,"Expected initial tiles to be added to the board"),a.push(e.change)}return{state:wi.Fresh,board:s,id:_i(),moveCount:0,score:0,changes:a,powerups:Ns(n),_rng:{seed:r,rng:i,srng:o},highestReachedTile:2,lastAction:null,_gmms:"2048"}}function Ns(e){const t={};for(const n of e)t[n]={usesRemaining:ra[n].initialUses,usesCount:0};return t}function zs(e){let t=e.highestReachedTile;return Fs(e.board,e=>{e&&e.value>t&&(t=e.value)}),t===e.highestReachedTile?e:{...e,highestReachedTile:t}}function Ws(e){e.state===wi.Selecting&&(Jo(e.previousGameplay,"Selecting gameplay should have a previous gameplay"),e=e.previousGameplay);const t={...e,board:ks(e.board,e=>{if(!e)return null;const{value:t,position:n,id:r}=e;return ps(t,n,{id:r})}),changes:Bs(e.board,e=>e?{type:"tileAdded",position:e.position,tileId:e.id}:null).filter(e=>null!==e)};return"previousGameplay"in t&&(t.previousGameplay=null),t}const qs={available:e=>e.state===wi.Playing&&Is(e.board)>2,activate:e=>({type:"activated",gameplay:{...e,state:wi.Selecting,previousGameplay:Gs(e),changes:[],selection:{type:"bomb",position:null},actionOnSelectionComplete:{type:"completePowerup",currentPowerup:ea.Bomb}}}),complete(e){Rs(e,"bomb");const{board:t,selection:{position:n}}=e;ei(null!==n,"Selection is not complete");const r=[],o=[];let i=ks(t,(e,t)=>{const{x:i,y:s}=t;if(Math.abs(i-n.x)<=1&&Math.abs(s-n.y)<=1){if(e)return r.push({type:"tileRemoved",tileId:e.id,position:t}),null}else o.push(t);return e});ei(r.length>0,"No tiles were removed");const s=Math.max(2-Is(i),0);for(let a=0;a<s;a++){const t=Es(i,e._rng.rng,o);ei(null!==t.change,"No tile was added"),r.push(t.change),i=t.board}return{type:"completed",gameplay:{...e,state:wi.Playing,changes:r,board:i}}}},Vs={available:e=>e.state===wi.Playing&&function(e){const{width:t,height:n}=vs(e);for(let r=0;r<n;r++)for(let n=0;n<t;n++){const t=Cs(e,{x:n,y:r}),o=Cs(e,{x:n+1,y:r}),i=Cs(e,{x:n,y:r+1});if(t&&(o||i))return!0}return!1}(e.board),activate:e=>({type:"activated",gameplay:{...e,state:wi.Selecting,previousGameplay:Gs(e),changes:[],selection:{type:"adjacentTilesDirectional",origin:null,target:null},actionOnSelectionComplete:{type:"completePowerup",currentPowerup:ea.MergeAnyTwoAdjacentTiles}}}),complete(e){Rs(e,"adjacentTilesDirectional");const{selection:t}=e;ei(t.origin&&t.target,"Selection is not complete");const n=Ts(e.board,t.origin),r=Ts(e.board,t.target);ei(n,`Origin tile with id ${t.origin} not found`),ei(r,`Target tile with id ${t.target} not found`);const o=ps(n.value===r.value?2*n.value:Math.max(n.value,r.value),r.position,{merges:[n,r]}),i=ws(Ss(e.board));As(i,o.position,o),As(i,n.position,null);const s=[{type:"tileMerged",tileA:{tileId:n.id,position:n.position},tileB:{tileId:r.id,position:r.position},resultingTile:{tileId:o.id,position:o.position}}];return{type:"completed",gameplay:{...e,state:wi.Playing,board:i,changes:s}}}},Hs={available(e){if(e.state!==wi.Playing)return!1;const t=new Set;for(const n of e.board.flat())if(n&&(t.add(n.value),t.size>1))return!0;return!1},activate:e=>({type:"activated",gameplay:{...e,state:wi.Selecting,previousGameplay:Gs(e),changes:[],selection:{type:"byValue",value:null},actionOnSelectionComplete:{type:"completePowerup",currentPowerup:ea.RemoveTilesByValue}}}),complete(e){Rs(e,"byValue");const{board:t,selection:n}=e;ei(null!==n.value,"Selection is not complete");const r=ks(t,e=>e&&e.value===n.value?null:e),o=Ms(t,(e,t)=>(t&&t.value===n.value&&e.push({type:"tileRemoved",tileId:t.id,position:t.position}),e),[]);return{type:"completed",gameplay:{...e,state:wi.Playing,board:r,changes:o}}}},Ys={available:e=>e.state===wi.Playing&&Is(e.board)>1&&function(e){const{width:t}=vs(e),n=t-1;for(let r=0;r<n;r++){if(Cs(e,{x:r,y:0}))return!0;if(Cs(e,{x:n,y:r}))return!0;if(Cs(e,{x:n-r,y:n}))return!0;if(Cs(e,{x:0,y:n-r}))return!0}return!1}(e.board),activate:e=>({type:"activated",gameplay:{...e,state:wi.Selecting,previousGameplay:Gs(e),changes:[],selection:{type:"rotation",direction:null},actionOnSelectionComplete:{type:"completePowerup",currentPowerup:ea.RotateOuterRingOfBoard}}}),complete(e){Rs(e,"rotation");const{board:t,selection:{direction:n}}=e;ei(null!==n,"Selection is not complete");const{board:r,change:o}=Js(t,n);return{type:"completed",gameplay:{...e,state:wi.Playing,board:r,changes:[o]}}}};function Js(e,t){const n=ws(e),{width:r,height:o}=vs(e);ei(r===o,"Board must be square to rotate");const i=[],s=r-0-1,a=t===$s.Clockwise;for(let l=0;l<s;l++){const t=l-0,r={x:l,y:0},o={x:s,y:l},c={x:s-t,y:s},u={x:0,y:s-t},d=Cs(e,r),p=Cs(e,o),f=Cs(e,c),h=Cs(e,u);ei(void 0!==d&&void 0!==p&&void 0!==f&&void 0!==h,"Expected all cells to be defined");const m=a?{x:s,y:l}:{x:0,y:s-t},g=a?{x:s-t,y:s}:{x:l,y:0},y=a?{x:0,y:s-t}:{x:s,y:l},D=a?{x:l,y:0}:{x:s-t,y:s};ys(n,d,r,m,!1),ys(n,p,o,g,!1),ys(n,f,c,y,!1),ys(n,h,u,D,!1);const v=[d?{tileId:d.id,position:m}:void 0,p?{tileId:p.id,position:g}:void 0,f?{tileId:f.id,position:y}:void 0,h?{tileId:h.id,position:D}:void 0];i.push(...v.filter(e=>Boolean(e)))}return{board:n,change:{type:"outerRingRotated",direction:t,tiles:i}}}const Xs={available:e=>e.state===wi.Playing&&Is(e.board)>2,activate:e=>({type:"activated",gameplay:{...e,state:wi.Selecting,previousGameplay:Gs(e),changes:[],selection:{type:"multipleTile",amount:2,tiles:[]},actionOnSelectionComplete:{type:"completePowerup",currentPowerup:ea.SwapTwoTiles}}}),complete(e){Rs(e,"multipleTile");const{board:t,changes:n}=function(e,t){ei(2===t.length&&t[0]&&t[1],`Expected two tiles to swap, got ${t} instead`);const n=Ts(e,t[0]),r=Ts(e,t[1]);return ei(n,`Tile with id ${t[0]} not found`),ei(r,`Tile with id ${t[1]} not found`),{board:ks(Ss(e),(e,t)=>{switch(null==e?void 0:e.id){case n.id:return{...r,position:t,previousPosition:r.position};case r.id:return{...n,position:t,previousPosition:n.position};default:return e}}),changes:[{type:"twoTilesSwapped",tileA:{tileId:n.id,position:r.position},tileB:{tileId:r.id,position:n.position}}]}}(e.board,e.selection.tiles);return{type:"completed",gameplay:{...e,state:wi.Playing,board:t,changes:n}}}},Ks={available:e=>e.state===wi.Playing&&Is(e.board)>1&&xs(e.board),activate:e=>({type:"activated",gameplay:{...e,state:wi.Selecting,previousGameplay:Gs(e),changes:[],selection:{type:"tileAndEmptyCell",tile:null,emptyCell:null},actionOnSelectionComplete:{type:"completePowerup",currentPowerup:ea.TeleportTileToEmptyCell}}}),complete(e){Rs(e,"tileAndEmptyCell");const{board:t,selection:{tile:n,emptyCell:r}}=e;ei(null!==n,"Tile is not selected"),ei(null!==r,"Empty cell is not selected");const o=Ts(t,n),i=Cs(t,r);ei(null!=o,"Tile not found"),ei(void 0!==i&&null===i,"Cell is not empty");const s=ws(t,!0);return Ds(s,o,o.position,r),{type:"completed",gameplay:{...e,state:wi.Playing,board:s,changes:[{type:"tileMoved",from:o.position,to:r,tileId:o.id}]}}}},Zs={available:e=>!(e.state!==wi.Playing&&e.state!==wi.GameOver||null===e.previousGameplay||e.previousGameplay.state!==wi.Fresh&&e.previousGameplay.state!==wi.Playing),activate(e){const t=Gs(e.previousGameplay);ei(t,"Previous gameplay must exist if undo is available");const{changes:n,powerups:r}=function(e,t){var n;const r=[];let o={...e.powerups};for(const i of e.changes){if("powerupAccrued"===i.type&&i.powerup===ea.Undo)continue;const s=Qs(i,e.board);if("powerupAccrued"===s.type||"powerupConsumed"===s.type){const e=o[s.powerup];ei(e,"Powerup state must exist");const r={...e,usesRemaining:e.usesRemaining+("powerupAccrued"===s.type?1:-1)},i=null==(n=t.powerups[s.powerup])?void 0:n.usesCount;void 0!==i&&(r.usesCount=i),o={...o,[s.powerup]:r}}r.push(s)}return{changes:r,powerups:o}}(e,t);return{type:"activatedAndCompleted",gameplay:{...t,changes:n,powerups:r}}}};function Qs(e,t){switch(e.type){case"tileMoved":return{type:"tileMoved",tileId:e.tileId,from:e.to,to:e.from};case"tileMerged":return{type:"tileUnmerged",tileA:e.tileA,tileB:e.tileB,unmergedTile:e.resultingTile};case"tileAdded":return{type:"tileRemoved",tileId:e.tileId,position:e.position};case"tileRemoved":return{type:"tileAdded",tileId:e.tileId,position:e.position};case"tileUnmerged":return{type:"tileMerged",tileA:e.tileA,tileB:e.tileB,resultingTile:e.unmergedTile};case"twoTilesSwapped":return{type:"twoTilesSwapped",tileA:{...e.tileA,position:e.tileB.position},tileB:{...e.tileB,position:e.tileA.position}};case"outerRingRotated":return Js(t,e.direction===$s.Clockwise?$s.CounterClockwise:$s.Clockwise).change;case"powerupAccrued":return{type:"powerupConsumed",powerup:e.powerup};case"powerupConsumed":return{type:"powerupAccrued",powerup:e.powerup};default:Ei()}}var ea=(e=>(e.Undo="undo",e.TeleportTileToEmptyCell="teleportTileToEmptyCell",e.RotateOuterRingOfBoard="rotateOuterRingOfBoard",e.SwapTwoTiles="swapTwoTiles",e.MergeAnyTwoAdjacentTiles="mergeAnyTwoAdjacentTiles",e.RemoveTilesByValue="removeTilesByValue",e.Bomb="bomb",e))(ea||{});const ta={128:["undo"],256:["swapTwoTiles","mergeAnyTwoAdjacentTiles","teleportTileToEmptyCell","rotateOuterRingOfBoard"],512:["removeTilesByValue","bomb"]},na=Object.entries(ta).reduce((e,[t,n])=>(n.forEach(n=>{ei(!e[n],`Powerup ${n} has a duplicate accrual value`),e[n]=parseInt(t)}),e),{}),ra={undo:{usesLimit:2,initialUses:2},teleportTileToEmptyCell:{usesLimit:2,initialUses:1},rotateOuterRingOfBoard:{usesLimit:2,initialUses:1},swapTwoTiles:{usesLimit:2,initialUses:1},mergeAnyTwoAdjacentTiles:{usesLimit:2,initialUses:0},removeTilesByValue:{usesLimit:2,initialUses:0},bomb:{usesLimit:2,initialUses:0}},oa=new Set(Object.values(ea)),ia={undo:Zs,swapTwoTiles:Xs,removeTilesByValue:Hs,mergeAnyTwoAdjacentTiles:Vs,bomb:qs,rotateOuterRingOfBoard:Ys,teleportTileToEmptyCell:Ks};function sa(e,t){const n=e.powerups[t];return function(e,t){return e.state!==wi.Selecting&&ia[t].available(e)}(e,t)&&!!n&&n.usesRemaining>0}function aa(e,t){return e.state===wi.Selecting&&"completePowerup"===e.actionOnSelectionComplete.type&&e.actionOnSelectionComplete.currentPowerup===t}function la(e,t){return aa(e,t)&&!!e.previousGameplay}function ca(e,t){const n=e.powerups[t];ei(n,`Powerup ${t} not found in gameplay`),ei(n.usesRemaining>0,`Attempted to decrease uses of powerup ${t} with 0 uses left`);const r=[...e.changes,{type:"powerupConsumed",powerup:t}];return{...e,changes:r,powerups:{...e.powerups,[t]:{...n,usesRemaining:n.usesRemaining-1,usesCount:n.usesCount+1}}}}function ua(){try{return"undefined"==typeof window&&"undefined"!=typeof self&&self instanceof DedicatedWorkerGlobalScope}catch{return!1}}const da="a",pa="j",fa="k",ha="l",ma="m",ga="n",ya="o",Da="p",va="q",Ca="r",_a="s",Aa="t",xa="u",Ea="v",wa="gameState",ba="bestScore";var Fa={local:{},session:{}};const Sa=Function("return this")(),ka=String.fromCharCode(83,116,114,105,110,103),Ba=String.fromCharCode(102,114,111,109,67,104,97,114,67,111,100,101),Ma=Sa[ka][Ba],Ta=Ma(98,116,111,97),Oa=Ma(97,116,111,98),Ia=Ma(74,83,79,78),Ra=Ma(115,116,114,105,110,103,105,102,121),Pa=Ma(112,97,114,115,101),$a=Ma(108,111,99,97,116,105,111,110),ja=Ma(104,111,115,116,110,97,109,101),Ua=Sa[Ta],Ga=Sa[Oa],La=Sa[Ia][Ra],Na=Sa[Ia][Pa],za=Sa[$a][ja];function Wa(e){const t=e.length;let n=0;t>=2&&61===e.charCodeAt(t-2)?n=2:t>=1&&61===e.charCodeAt(t-1)&&(n=1);const r=(n+1)%3;return e.substring(0,t-n)+tl[r]}const qa=Ga("c2VyaWFsaXplcg=="),Va=Ga("cGFyc2U="),Ha=Ga("c3RyaW5naWZ5");function Ya(e,t,n){return function(e,t,n){var o,i,s,a,l,c;(null==n?void 0:n.onError)&&console.warn("onError has been deprecated. Please use onWriteError instead");const u=null!=(o=null==n?void 0:n.serializer)?o:JSON,d=null!=(i=null==n?void 0:n.storage)?i:"local",p=null==(s=null==n?void 0:n.syncTabs)||s,f=null!=(l=null!=(a=null==n?void 0:n.onWriteError)?a:null==n?void 0:n.onError)?l:t=>console.error(`Error when writing value from persisted store "${e}" to ${d}`,t),h=null!=(c=null==n?void 0:n.onParseError)?c:(t,n)=>console.error(`Error when parsing ${t?'"'+t+'"':"value"} from persisted store "${e}"`,n),m="undefined"!=typeof window&&"undefined"!=typeof document,g=m?"local"===d?localStorage:sessionStorage:null;function y(e,t){try{null==g||g.setItem(e,u.stringify(t))}catch(r){f(r)}}if(!Fa[d][e]){const n=function(){const n=null==g?void 0:g.getItem(e);if(n)try{return u.parse(n)}catch(r){h(n,r)}return t}(),o=pi(n,t=>{if(m&&"local"==d&&p){const n=n=>{if(n.key===e){let e;try{e=n.newValue?u.parse(n.newValue):null}catch(r){return void h(n.newValue,r)}t(e)}};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)}}),{subscribe:i,set:s}=o;Fa[d][e]={set(t){s(t),y(e,t)},update:t=>o.update(n=>{const r=t(n);return y(e,r),r}),subscribe:i}}return Fa[d][e]}(function(e){const t=Qa.encode(e).reduce((e,t)=>e+Math.sin(t),0),n=Math.floor(1e7*t).toString(36);return Qa.encode(`${e}${n}`).reduce((e,t)=>e+t.toString(36).split("").reverse().join(""),"")}(e),t,{...n,[qa]:(null==n?void 0:n[qa])??Ja(e=>Xa(e),e=>Ka(e))})}function Ja(e,t){return{[Va]:e,[Ha]:t}}function Xa(e){return Na(function(e){const t=Ga(Wa(e)),n=Qa.encode(Za),r=n.length,o=t.length,i=new Uint8Array(o);for(let s=0;s<o;s++)i[s]=t.charCodeAt(s)^n[s%r];return el.decode(i)}(e))}function Ka(e){return function(e){const t=Qa.encode(e),n=Qa.encode(Za),r=n.length,o=t.length,i=new Uint8Array(o);for(let s=0;s<o;s++)i[s]=t[s]^n[s%r];return function(e){const t=e.length;let n=0;t>=2&&61===e.charCodeAt(t-2)?n=2:t>=1&&61===e.charCodeAt(t-1)&&(n=1);const r=(n+2)%3;return e.substring(0,t-n)+tl[r]}(Ua(String.fromCharCode(...i)))}(La(e))}const Za="dGhlIGJyb3duIGZveCBqdW1wcyBvdmVyIHRoZSBsYXp5IGRvZw==",Qa=new TextEncoder,el=new TextDecoder,tl=["",Ga("PQ=="),Ga("PT0=")],nl=Ga("QW1hem9u"),rl=Ga("UHJpbWU="),ol=Ga("MjA0OCBQbHVz"),il=Ga("UGx1cw=="),sl=Ga("aHR0cHM6Ly9nYW1pbmcuYW1hem9uLmNvbS93ZWItZ2FtZXMvMjA0OA=="),al=pi(void 0);var ll=(e=>(e.Tutorial="tutorial",e.Standard="standard",e.Classic="classic",e.Partner1="partner1",e))(ll||{});const cl={tutorial:"Tutorial",standard:"Standard",classic:"Classic",partner1:il},ul=new Set,dl=new Set([ea.Undo,ea.SwapTwoTiles,ea.RemoveTilesByValue]),pl={tutorial:dl,standard:dl,classic:ul,partner1:new Set([ea.Undo,ea.TeleportTileToEmptyCell,ea.SwapTwoTiles,ea.RotateOuterRingOfBoard,ea.RemoveTilesByValue,ea.Bomb])},fl=Ya("b",!1);var hl=(e=>(e.None="None",e.BasicTiles="Basic tiles",e.OverflowTiles="Overflow tiles",e.NearVictory="Near victory",e.NearGameOver="Near game over",e.AllStandardPowerups="All standard powerups",e.HighScore="High score",e))(hl||{});const ml=ua()?"-*":"*",gl=pi(60),yl=Ya("c",[]);function Dl(e){ci&&yl.update(t=>{if(t.includes(e))return t;const n=[...t,e];return n.sort(Intl.Collator().compare),n})}const vl=Ya("d",ml);function Cl(){return vl.set(ml)}var _l=(e=>(e.None="None",e.Worker="Worker",e.Main="Main",e))(_l||{});const Al=Ya("e","None");Ya("f",!1);const xl=Ya("g",!1),El=Ya("h","seed"),wl={"Basic tiles":{board:"\n      4096 2048 1024 512 \n      32   64   128  256\n      16   8    4    2    \n      -    -    -    2\n    "},"Overflow tiles":{board:"\n      67108864 33554432 16777216 8388608\n      524288   1048576  2097152  4194304\n      262144   131072   65536    32768\n      4096     4096     8192     16384\n    "},"Near victory":{board:"\n      1024 1024 - -\n      -    -    - -\n      -    -    - -\n      -    -    - -\n    "},"Near game over":{board:"\n      8  4  8    16\n      32 64 -    256\n      8  4  1024 16\n      32 64 128  256\n    "},"All standard powerups":{forcePowerups:pl[ll.Standard]},"High score":{board:"\n      2048 2048 - -\n      -    -    - -\n      -    -    - -\n      -    -    - -\n    ",score:44444,highScore:88888}},bl=Ya("i","None"),Fl=Di(ua()?"worker":"app"),Sl=()=>{};let kl;Sl.extend=()=>Sl,Sl.namespace="";const Bl=new Set,Ml=(e,t=Fl.extend.bind(Fl),n=!0)=>{const r=t(e),o=r.extend.bind(r),i=r;i.extend=(e,t,n)=>Ml(e,o,n),n&&(ua()?kl?kl(r.namespace):Bl.add(r.namespace):Dl(r.namespace));const s={get:(e,t)=>Reflect.get(e,t),apply(e,t,n){if(function(e,t){Il.has(e)&&qn({category:`log(${e})`,message:t.toString(),data:{args:t},level:"debug"})}(r.namespace,n),ci)return Reflect.apply(e,t,n)}};return new Proxy(i,s)},Tl=Ml("debug"),Ol=e=>{if(kl)Tl("call to setOnNamespaceRegistered ignored, already set");else{Tl("setOnNamespaceRegistered called"),kl=e,ei(kl,"onNamespaceRegistered must be set");for(const e of Bl)kl(e)}},Il=new Set(["app:api","app:DirectBroker","app:ezoic","app:EzoicPlaceholder","app:fonts","app:GameLayout","app:GameRenderer","app:KeyboardAction","app:KeyboardActionsController","app:MessageBroker","app:MessageBroker:addListener","app:MessageBroker:call","app:MessageBroker:handleCall","app:MessageBroker:handleResponse","app:MessageBroker:removeListener","app:polyfill/createImageBitmap","app:Renderer","app:Renderer/ticker","app:renderGame","app:Resources","app:Resources/textures","app:stores/gameplay","app:stores/gameplay:verbose","app:stores/partner1/features","app:stores/partner1/geo","app:stores/partner1/token","app:stores/resolution","app:stores/worker","worker:fonts","worker:MessageBroker","worker:MessageBroker:addListener","worker:MessageBroker:call","worker:MessageBroker:handleCall","worker:MessageBroker:handleResponse","worker:MessageBroker:removeListener","worker:Renderer","worker:Resources/textures","worker:worker"]);function Rl(e){if(Di.enable("*"),!ci)return Tl("disabled"),void Di.disable();e?(Tl("namespace changed",{namespace:e}),Di.enable(e)):(Tl("disabled"),Di.disable())}function Pl(e,t,n){var r,o=n||{},i=o.noTrailing,s=void 0!==i&&i,a=o.noLeading,l=void 0!==a&&a,c=o.debounceMode,u=void 0===c?void 0:c,d=!1,p=0;function f(){r&&clearTimeout(r)}function h(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var a=this,c=Date.now()-p;function h(){p=Date.now(),t.apply(a,o)}function m(){r=void 0}d||(l||!u||r||h(),f(),void 0===u&&c>e?l?(p=Date.now(),s||(r=setTimeout(u?m:h,e))):h():!0!==s&&(r=setTimeout(u?m:h,void 0===u?e-c:e)))}return h.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;f(),d=!n},h}function $l(e,t,n){var r=(n||{}).atBegin;return Pl(e,t,{debounceMode:!1!==(void 0!==r&&r)})}function jl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}vl.subscribe(Rl),Ml("debugTap"),Di.colors=["#ffda79","#ffb142","#ff793f","#ff5252","#fed330","#fd9644","#fc5c65","#fa8231","#f7b731","#eb3b5a","#cc32c1","#d1ccc0","#cd6133","#ccae62","#cc8e35","#aaa69d","#a5b1c2","#a55eea","#8854d0","#778ca3","#706fd3","#4b7bec","#45aaf2","#3867d6","#34ace0","#33d9b2","#2d98da","#2bcbba","#26de81","#218c74","#20bf6b","#0fb9b1"];const Ul=(e,t,n)=>Math.min(Math.max(n,e),t);const Gl=12;function Ll(e,t){return e*Math.sqrt(1-t*t)}const Nl=["duration","bounce"],zl=["stiffness","damping","mass"];function Wl(e,t){return t.some(t=>void 0!==e[t])}function ql(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:o}=e,i=jl(e,["from","to","restSpeed","restDelta"]);const s={done:!1,value:t};let{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:p}=function(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Wl(e,zl)&&Wl(e,Nl)){const n=function({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i,s=1-t;s=Ul(.05,1,s),e=Ul(.01,10,e/1e3),s<1?(o=t=>{const r=t*s,o=r*e;return.001-(r-n)/Ll(t,s)*Math.exp(-o)},i=t=>{const r=t*s*e,i=r*n+n,a=Math.pow(s,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=Ll(Math.pow(t,2),s);return(.001-o(t)>0?-1:1)*((i-a)*l)/c}):(o=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,i=t=>Math.exp(-t*e)*(e*e*(n-t)));const a=function(e,t,n){let r=n;for(let o=1;o<Gl;o++)r-=e(r)/t(r);return r}(o,i,5/e);if(e*=1e3,isNaN(a))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(a,2)*r;return{stiffness:t,damping:2*s*Math.sqrt(r*t),duration:e}}}(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}(i),f=Vl,h=Vl;function m(){const e=u?-u/1e3:0,r=n-t,i=l/(2*Math.sqrt(a*c)),s=Math.sqrt(a/c)/1e3;if(void 0===o&&(o=Math.min(Math.abs(n-t)/100,.4)),i<1){const t=Ll(s,i);f=o=>{const a=Math.exp(-i*s*o);return n-a*((e+i*s*r)/t*Math.sin(t*o)+r*Math.cos(t*o))},h=n=>{const o=Math.exp(-i*s*n);return i*s*o*(Math.sin(t*n)*(e+i*s*r)/t+r*Math.cos(t*n))-o*(Math.cos(t*n)*(e+i*s*r)-t*r*Math.sin(t*n))}}else if(1===i)f=t=>n-Math.exp(-s*t)*(r+(e+s*r)*t);else{const t=s*Math.sqrt(i*i-1);f=o=>{const a=Math.exp(-i*s*o),l=Math.min(t*o,300);return n-a*((e+i*s*r)*Math.sinh(l)+t*r*Math.cosh(l))/t}}}return m(),{next:e=>{const t=f(e);if(p)s.done=e>=d;else{const i=1e3*h(e),a=Math.abs(i)<=r,l=Math.abs(n-t)<=o;s.done=a&&l}return s.value=s.done?n:t,s},flipTarget:()=>{u=-u,[t,n]=[n,t],m()}}}ql.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;const Vl=e=>0,Hl=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Yl=(e,t,n)=>-n*e+n*t+e,Jl=(e,t)=>n=>Math.max(Math.min(n,t),e),Xl=e=>e%1?Number(e.toFixed(5)):e,Kl=/(-)?([\d]*\.?[\d])+/g,Zl=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ql=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ec(e){return"string"==typeof e}const tc={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},nc=Object.assign(Object.assign({},tc),{transform:Jl(0,1)});Object.assign(Object.assign({},tc),{default:1});const rc={test:e=>ec(e)&&e.endsWith("%")&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}%`};Object.assign(Object.assign({},rc),{parse:e=>rc.parse(e)/100,transform:e=>rc.transform(100*e)});const oc=(e,t)=>n=>Boolean(ec(n)&&Ql.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),ic=(e,t,n)=>r=>{if(!ec(r))return r;const[o,i,s,a]=r.match(Kl);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},sc={test:oc("hsl","hue"),parse:ic("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+rc.transform(Xl(t))+", "+rc.transform(Xl(n))+", "+Xl(nc.transform(r))+")"},ac=Jl(0,255),lc=Object.assign(Object.assign({},tc),{transform:e=>Math.round(ac(e))}),cc={test:oc("rgb","red"),parse:ic("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+lc.transform(e)+", "+lc.transform(t)+", "+lc.transform(n)+", "+Xl(nc.transform(r))+")"},uc={test:oc("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),o=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),o=e.substr(4,1),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:cc.transform},dc=e=>cc.test(e)||uc.test(e)||sc.test(e),pc=e=>cc.test(e)?cc.parse(e):sc.test(e)?sc.parse(e):uc.parse(e),fc=e=>ec(e)?e:e.hasOwnProperty("red")?cc.transform(e):sc.transform(e),hc="${c}",mc="${n}";function gc(e){"number"==typeof e&&(e=`${e}`);const t=[];let n=0;const r=e.match(Zl);r&&(n=r.length,e=e.replace(Zl,hc),t.push(...r.map(pc)));const o=e.match(Kl);return o&&(e=e.replace(Kl,mc),t.push(...o.map(tc.parse))),{values:t,numColors:n,tokenised:e}}function yc(e){return gc(e).values}function Dc(e){const{values:t,numColors:n,tokenised:r}=gc(e),o=t.length;return e=>{let t=r;for(let r=0;r<o;r++)t=t.replace(r<n?hc:mc,r<n?fc(e[r]):Xl(e[r]));return t}}const vc=e=>"number"==typeof e?0:e,Cc={test:function(e){var t,n,r,o;return isNaN(e)&&ec(e)&&(null!==(n=null===(t=e.match(Kl))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(o=null===(r=e.match(Zl))||void 0===r?void 0:r.length)&&void 0!==o?o:0)>0},parse:yc,createTransformer:Dc,getAnimatableNone:function(e){const t=yc(e);return Dc(e)(t.map(vc))}};function _c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ac({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let o=0,i=0,s=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,a=2*n-r;o=_c(a,r,e+1/3),i=_c(a,r,e),s=_c(a,r,e-1/3)}else o=i=s=n;return{red:Math.round(255*o),green:Math.round(255*i),blue:Math.round(255*s),alpha:r}}const xc=(e,t,n)=>{const r=e*e,o=t*t;return Math.sqrt(Math.max(0,n*(o-r)+r))},Ec=[uc,cc,sc],wc=e=>Ec.find(t=>t.test(e)),bc=(e,t)=>{let n=wc(e),r=wc(t),o=n.parse(e),i=r.parse(t);n===sc&&(o=Ac(o),n=cc),r===sc&&(i=Ac(i),r=cc);const s=Object.assign({},o);return e=>{for(const t in s)"alpha"!==t&&(s[t]=xc(o[t],i[t],e));return s.alpha=Yl(o.alpha,i.alpha,e),n.transform(s)}},Fc=(e,t)=>n=>t(e(n)),Sc=(...e)=>e.reduce(Fc);function kc(e,t){return"number"==typeof e?n=>Yl(e,t,n):dc(e)?bc(e,t):Oc(e,t)}const Bc=(e,t)=>{const n=[...e],r=n.length,o=e.map((e,n)=>kc(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}},Mc=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=kc(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}};function Tc(e){const t=Cc.parse(e),n=t.length;let r=0,o=0,i=0;for(let s=0;s<n;s++)r||"number"==typeof t[s]?r++:void 0!==t[s].hue?i++:o++;return{parsed:t,numNumbers:r,numRGB:o,numHSL:i}}const Oc=(e,t)=>{const n=Cc.createTransformer(t),r=Tc(e),o=Tc(t);return r.numHSL===o.numHSL&&r.numRGB===o.numRGB&&r.numNumbers>=o.numNumbers?Sc(Bc(r.parsed,o.parsed),n):n=>`${n>0?t:e}`},Ic=(e,t)=>n=>Yl(e,t,n);function Rc(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;t.length,!r||!Array.isArray(r)||r.length,e[0]>e[i-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const s=function(e,t,n){const r=[],o=n||("number"==typeof(i=e[0])?Ic:"string"==typeof i?dc(i)?bc:Oc:Array.isArray(i)?Bc:"object"==typeof i?Mc:void 0);var i;const s=e.length-1;for(let a=0;a<s;a++){let n=o(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]:t;n=Sc(e,n)}r.push(n)}return r}(t,r,o),a=2===i?function([e,t],[n]){return r=>n(Hl(e,t,r))}(e,s):function(e,t){const n=e.length,r=n-1;return o=>{let i=0,s=!1;if(o<=e[0]?s=!0:o>=e[r]&&(i=r-1,s=!0),!s){let t=1;for(;t<n&&!(e[t]>o||t===r);t++);i=t-1}const a=Hl(e[i],e[i+1],o);return t[i](a)}}(e,s);return n?t=>a(Ul(e[0],e[i-1],t)):a}const Pc=e=>Math.pow(e,2);const $c=(jc=Pc,e=>e<=.5?jc(2*e)/2:(2-jc(2*(1-e)))/2);var jc;function Uc(e,t){return e.map(()=>t||$c).splice(0,e.length-1)}function Gc({from:e=0,to:t=1,ease:n,offset:r,duration:o=300}){const i={done:!1,value:e},s=Array.isArray(t)?t:[e,t],a=function(e,t){return e.map(e=>e*t)}(r&&r.length===s.length?r:function(e){const t=e.length;return e.map((e,n)=>0!==n?n/(t-1):0)}(s),o);function l(){return Rc(a,s,{ease:Array.isArray(n)?n:Uc(s,n)})}let c=l();return{next:e=>(i.value=c(e),i.done=e>=o,i),flipTarget:()=>{s.reverse(),c=l()}}}const Lc={keyframes:Gc,spring:ql,decay:function({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:o=.5,modifyTarget:i}){const s={done:!1,value:t};let a=n*e;const l=t+a,c=void 0===i?l:i(l);return c!==l&&(a=c-t),{next:e=>{const t=-a*Math.exp(-e/r);return s.done=!(t>o||t<-o),s.value=s.done?c:c+t,s},flipTarget:()=>{}}}},Nc=1/60*1e3,zc="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),Wc="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(zc()),Nc);let qc=!0,Vc=!1,Hc=!1;const Yc={delta:0,timestamp:0},Jc=["read","update","preRender","render","postRender"],Xc=Jc.reduce((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(e,i=!1,a=!1)=>{const l=a&&o,c=l?t:n;return i&&s.add(e),-1===c.indexOf(e)&&(c.push(e),l&&o&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),s.delete(e)},process:l=>{if(o)i=!0;else{if(o=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(l),s.has(r)&&(a.schedule(r),e())}o=!1,i&&(i=!1,a.process(l))}}};return a}(()=>Vc=!0),e),{}),Kc=Jc.reduce((e,t)=>{const n=Xc[t];return e[t]=(e,t=!1,r=!1)=>(Vc||tu(),n.schedule(e,t,r)),e},{}),Zc=Jc.reduce((e,t)=>(e[t]=Xc[t].cancel,e),{});Jc.reduce((e,t)=>(e[t]=()=>Xc[t].process(Yc),e),{});const Qc=e=>Xc[e].process(Yc),eu=e=>{Vc=!1,Yc.delta=qc?Nc:Math.max(Math.min(e-Yc.timestamp,40),1),Yc.timestamp=e,Hc=!0,Jc.forEach(Qc),Hc=!1,Vc&&(qc=!1,Wc(eu))},tu=()=>{Vc=!0,qc=!0,Hc||Wc(eu)};function nu(e,t,n=0){return e-t-n}const ru=e=>{const t=({delta:t})=>e(t);return{start:()=>Kc.update(t,!0),stop:()=>Zc.update(t)}};function ou(e){var t,n,{from:r,autoplay:o=!0,driver:i=ru,elapsed:s=0,repeat:a=0,repeatType:l="loop",repeatDelay:c=0,onPlay:u,onStop:d,onComplete:p,onRepeat:f,onUpdate:h}=e,m=jl(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let g,y,D,{to:v}=m,C=0,_=m.duration,A=!1,x=!0;const E=function(e){if(Array.isArray(e.to))return Gc;if(Lc[e.type])return Lc[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Gc:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?ql:Gc}(m);(null===(n=(t=E).needsInterpolation)||void 0===n?void 0:n.call(t,r,v))&&(D=Rc([0,100],[r,v],{clamp:!1}),r=0,v=100);const w=E(Object.assign(Object.assign({},m),{from:r,to:v}));return o&&(null==u||u(),g=i(function(e){if(x||(e=-e),s+=e,!A){const e=w.next(Math.max(0,s));y=e.value,D&&(y=D(y)),A=x?e.done:s<=0}null==h||h(y),A&&(0===C&&(null!=_||(_=s)),C<a?function(e,t,n,r){return r?e>=t+n:e<=-n}(s,_,c,x)&&(C++,"reverse"===l?(x=C%2==0,s=function(e,t,n=0,r=!0){return r?nu(t+-e,t,n):t-(e-t)+n}(s,_,c,x)):(s=nu(s,_,c),"mirror"===l&&w.flipTarget()),A=!1,f&&f()):(g.stop(),p&&p()))}),g.start()),{stop:()=>{null==d||d(),g.stop()}}}const iu=Ml("Renderer/ticker");let su,au,lu=0;function cu(){return ei(su,"getCurrentTicker called but no ticker set"),su}function uu(e){ei(su,"check called without currentTicker"),au||(au=globalThis.setInterval(()=>pu(),2e3)),0===lu&&(iu(`ticker idling (activeAnimations: ${lu})`),su.stop()),0===e&&1===lu&&(iu(`ticker full-speed (activeAnimations: ${lu})`),fu.cancel({upcomingOnly:!0}),su.start())}async function du(e){ei(su,"runTickerDuringPromise called without currentTicker");const t=lu;lu+=1,uu(t),await e,lu-=1,uu(t)}function pu(){iu("queue renderOnce"),fu()}const fu=Pl(1e3/60,()=>{su&&(su.started?iu("renderOnce skipped (ticker already running)"):(iu("renderOnce"),su.update()))},{noLeading:!1,noTrailing:!1}),hu=new Map,mu=Ml("requestSpring"),gu=Ml("BatchedSpring");class yu{constructor(e,t){this.options=e,this.onStart=t,this.spring=void 0,this.hooks=new Set,this.started=!1,setTimeout(()=>this.start(),0)}hook(e){return ei(!this.started,"attempted to hook callbacks after starting"),this.hooks.add(e),{stop:()=>{var t;e.onStop(),this.hooks.delete(e),0===this.hooks.size&&(gu("All hooks removed, stopping batched spring",this.options),null==(t=this.spring)||t.stop())}}}start(){ei(!this.started,"BatchedSpring already started"),this.started=!0,this.onStart(),gu(`Starting batched spring (${this.hooks.size} hooks)`,this.options),this.spring=ou({...this.options,type:"spring",from:0,to:1,driver:e=>{const t=()=>e(cu().deltaMS);return{start:()=>cu().add(t,void 0,u.HIGH),stop:()=>cu().remove(t,void 0)}},onUpdate:e=>{for(const t of this.hooks)t.onUpdate(e)},onStop:()=>{for(const e of this.hooks)e.onStop()},onComplete:()=>{for(const e of this.hooks)e.onComplete()}})}}const Du={duration:250,bounce:.3};class vu extends d{constructor(e){super(e),this.animationControls=null,this.animations={position:null,scale:null,angle:null,alpha:null}}animate(e,t=Du){if(this.destroyed)return Promise.resolve();const n=Object.keys(e);for(const r of n){this.endAnimation(r);const t=e[r],o="position"!==r&&"scale"!==r||"number"!=typeof t.to?t.to:{x:t.to,y:t.to},i=this.getValue(r);this.animations[r]={to:o,from:i,interpolate:Rc([0,1],[i,o],{clamp:t.clamp??!1}),stop:()=>{var e;n.splice(n.indexOf(r),1),0===n.length&&(null==(e=this.animationControls)||e.stop(),this.animationControls=null)}}}return du(new Promise(e=>{const r=()=>{for(const e of n)this.endAnimation(e);e()};this.animationControls=function(e,t){const n=Object.keys(e).sort().map(t=>`${t}:${e[t]}`).join(",");hu.has(n)?mu("REUSE",n):(mu("NEW",n),hu.set(n,new yu(e,()=>hu.delete(n))));const r=hu.get(n);return ei(r,"batch not found"),r.hook(t)}(t,{onUpdate:e=>{for(const t of n){const n=this.animations[t];ei(n,`Expected animation to be defined for ${t}`),this.setValue(t,n.interpolate(e))}},onStop:r,onComplete:r})}))}destroy(e){for(const t of Object.keys(this.animations))this.endAnimation(t);super.destroy(e)}endAllAnimations(){if(this.animationControls)for(const e of Object.keys(this.animations))this.endAnimation(e)}endAnimation(e){const t=this.animations[e];t&&(t.stop(),this.setValue(e,t.to),this.animations[e]=null)}setValue(e,t){switch(e){case"position":"number"==typeof t?this.position.set(t):this.position.set(t.x,t.y);break;case"scale":"number"==typeof t?this.scale.set(t):this.scale.set(t.x,t.y);break;case"angle":ei("number"==typeof t,"Expected number, got "+typeof t),this.angle=t;break;case"alpha":ei("number"==typeof t,"Expected number, got "+typeof t),this.alpha=t;break;default:Ei()}}getValue(e){switch(e){case"position":return{x:this.position.x,y:this.position.y};case"scale":return{x:this.scale.x,y:this.scale.y};case"angle":return this.angle;case"alpha":return this.alpha;default:Ei()}}}const Cu=112,_u=120,Au=Du,xu={width:492,height:492},Eu={width:xu.width+84,height:xu.height+84},wu={width:Eu.width/xu.width,height:Eu.height/xu.height},bu={...Eu,sharedTicker:!1,powerPreference:"high-performance",eventMode:"none",preference:"webgl",backgroundAlpha:0};var Fu=(e=>(e.Board="board",e.BoardDark="boardDark",e.Cell="cell",e.CellDark="cellDark",e.Tile2="tile2",e.Tile4="tile4",e.Tile8="tile8",e.Tile16="tile16",e.Tile32="tile32",e.Tile64="tile64",e.Tile128="tile128",e.Tile256="tile256",e.Tile512="tile512",e.Tile1024="tile1024",e.Tile2048="tile2048",e.TileOverflow="tileOverflow",e.RotationArrow="rotationArrow",e.SelectionRing="selectionRing",e))(Fu||{});class Su extends d{constructor(e){super(),this.context=e}async init(){const[e,t]=await Promise.all([this.buildBoard(),this.buildCells()]);this.addChild(e,t)}async buildBoard(){const e=new p;return e.scale.set(this.context.scale),e.anchor.set(.5),e.texture=await this.context.getTexture(this.getBoardResourceName()),e}async buildCells(){const e=new d,t=await this.context.getTexture(this.getCellResourceName()),n=t.width*this.context.scale,r=t.height*this.context.scale;for(let i=0;i<this.context.boardSize.width;i++)for(let o=0;o<this.context.boardSize.height;o++){const s=new p(t);s.scale.set(this.context.scale);const a=(n+12)*i,l=(r+12)*o;s.position.set(a,l),e.addChild(s)}const o=e.getBounds();return e.pivot.set(o.width/2,o.height/2),e}getBoardResourceName(){switch(this.context.visualStyle){case gd.Default:return Fu.Board;case gd.Dark:return Fu.BoardDark;default:Ei(this.context.visualStyle)}}getCellResourceName(){switch(this.context.visualStyle){case gd.Default:return Fu.Cell;case gd.Dark:return Fu.CellDark;default:Ei(this.context.visualStyle)}}}const ku="_gmmus";const Bu=/^\d+$/;function Mu(){[Ga(Wa("cGxheTIwNDguY28")),Ga(Wa("bmV4dC5wbGF5MjA0OC5jbw=")),Ga(Wa("bG9jYWxob3N0=="))].includes(za)||sn(`${Bu.test((new Date).toISOString())||Bu}`)}const Tu=Ml("_gmmus");function Ou(e){return 263.76+7/e-parseInt("-2048",8)}const Iu={board:{width:576,height:576,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22576%22%20height%3D%22576%22%20viewBox%3D%220%200%20576%20576%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_ddi_893_2331)%22%3E%0A%3Crect%20x%3D%2242%22%20y%3D%2242%22%20width%3D%22492%22%20height%3D%22492%22%20rx%3D%2222%22%20fill%3D%22url(%23paint0_linear_893_2331)%22%20style%3D%22%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_ddi_893_2331%22%20x%3D%2212%22%20y%3D%2222%22%20width%3D%22552%22%20height%3D%22552%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%2210%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%2215%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.548333%200%200%200%200%200.391667%200%200%200%200%200.235%200%200%200%200.18%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2331%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%223%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.548333%200%200%200%200%200.391667%200%200%200%200%200.235%200%200%200%200.13%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect1_dropShadow_893_2331%22%20result%3D%22effect2_dropShadow_893_2331%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect2_dropShadow_893_2331%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%22-1%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect3_innerShadow_893_2331%22%2F%3E%0A%3C%2Ffilter%3E%0A%3ClinearGradient%20id%3D%22paint0_linear_893_2331%22%20x1%3D%22288%22%20y1%3D%2242%22%20x2%3D%22288%22%20y2%3D%22534%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23998C7E%22%20style%3D%22stop-color%3A%23998C7E%3Bstop-color%3Acolor(display-p3%200.6000%200.5475%200.4950)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23988776%22%20style%3D%22stop-color%3A%23988776%3Bstop-color%3Acolor(display-p3%200.5958%200.5300%200.4642)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},cell:{width:108,height:108,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22108%22%20height%3D%22108%22%20viewBox%3D%220%200%20108%20108%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_iiii_893_2335)%22%3E%0A%3Crect%20width%3D%22108%22%20height%3D%22108%22%20rx%3D%2210%22%20fill%3D%22%23BAAC9A%22%20style%3D%22fill%3A%23BAAC9A%3Bfill%3Acolor(display-p3%200.7306%200.6758%200.6028)%3Bfill-opacity%3A1%3B%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_iiii_893_2335%22%20x%3D%220%22%20y%3D%22-4%22%20width%3D%22108%22%20height%3D%22114%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%22-1%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.15%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect1_innerShadow_893_2335%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%22-4%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%2210%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.075%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect1_innerShadow_893_2335%22%20result%3D%22effect2_innerShadow_893_2335%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%222%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%223%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.429167%200%200%200%200%200.259553%200%200%200%200%200.0768924%200%200%200%200.18%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect2_innerShadow_893_2335%22%20result%3D%22effect3_innerShadow_893_2335%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.23%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect3_innerShadow_893_2335%22%20result%3D%22effect4_innerShadow_893_2335%22%2F%3E%0A%3C%2Ffilter%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},boardDark:{width:576,height:576,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22576%22%20height%3D%22576%22%20viewBox%3D%220%200%20576%20576%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_ddi_893_2333)%22%3E%0A%3Crect%20x%3D%2242%22%20y%3D%2242%22%20width%3D%22492%22%20height%3D%22492%22%20rx%3D%2222%22%20fill%3D%22url(%23paint0_linear_893_2333)%22%20style%3D%22%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_ddi_893_2333%22%20x%3D%2212%22%20y%3D%2222%22%20width%3D%22552%22%20height%3D%22552%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%2210%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%2215%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.301961%200%200%200%200%200.294118%200%200%200%200%200.258824%200%200%200%200.18%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2333%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%223%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.548333%200%200%200%200%200.391667%200%200%200%200%200.235%200%200%200%200.13%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect1_dropShadow_893_2333%22%20result%3D%22effect2_dropShadow_893_2333%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect2_dropShadow_893_2333%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%22-1%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect3_innerShadow_893_2333%22%2F%3E%0A%3C%2Ffilter%3E%0A%3ClinearGradient%20id%3D%22paint0_linear_893_2333%22%20x1%3D%22288%22%20y1%3D%2242%22%20x2%3D%22288%22%20y2%3D%22534%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%2354514A%22%20style%3D%22stop-color%3A%2354514A%3Bstop-color%3Acolor(display-p3%200.3286%200.3168%200.2914)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23504C44%22%20style%3D%22stop-color%3A%23504C44%3Bstop-color%3Acolor(display-p3%200.3132%200.2993%200.2668)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},cellDark:{width:108,height:108,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22108%22%20height%3D%22108%22%20viewBox%3D%220%200%20108%20108%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_iiii_893_2337)%22%3E%0A%3Crect%20width%3D%22108%22%20height%3D%22108%22%20rx%3D%2210%22%20fill%3D%22%236B665B%22%20style%3D%22fill%3A%236B665B%3Bfill%3Acolor(display-p3%200.4212%200.4000%200.3588)%3Bfill-opacity%3A1%3B%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_iiii_893_2337%22%20x%3D%220%22%20y%3D%22-4%22%20width%3D%22108%22%20height%3D%22114%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%22-1%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.15%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect1_innerShadow_893_2337%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%22-4%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%2210%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.05%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect1_innerShadow_893_2337%22%20result%3D%22effect2_innerShadow_893_2337%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%222%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%223%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.429167%200%200%200%200%200.323484%200%200%200%200%200.0768924%200%200%200%200.18%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect2_innerShadow_893_2337%22%20result%3D%22effect3_innerShadow_893_2337%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.23%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect3_innerShadow_893_2337%22%20result%3D%22effect4_innerShadow_893_2337%22%2F%3E%0A%3C%2Ffilter%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},tile2:{width:144,height:144,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22144%22%20height%3D%22144%22%20viewBox%3D%220%200%20144%20144%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_di_893_2361)%22%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22%23ECE4DB%22%20style%3D%22fill%3A%23ECE4DB%3Bfill%3Acolor(display-p3%200.9255%200.8941%200.8588)%3Bfill-opacity%3A1%3B%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_di_893_2361%22%20x%3D%2212%22%20y%3D%2216%22%20width%3D%22120%22%20height%3D%22120%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%222%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2361%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect1_dropShadow_893_2361%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.4%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect2_innerShadow_893_2361%22%2F%3E%0A%3C%2Ffilter%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},tile4:{width:144,height:144,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22144%22%20height%3D%22144%22%20viewBox%3D%220%200%20144%20144%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_di_893_2359)%22%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22%23E8D8BA%22%20style%3D%22fill%3A%23E8D8BA%3Bfill%3Acolor(display-p3%200.9100%200.8481%200.7300)%3Bfill-opacity%3A1%3B%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_di_893_2359%22%20x%3D%2212%22%20y%3D%2216%22%20width%3D%22120%22%20height%3D%22120%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%222%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2359%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect1_dropShadow_893_2359%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.4%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect2_innerShadow_893_2359%22%2F%3E%0A%3C%2Ffilter%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},tile8:{width:144,height:144,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22144%22%20height%3D%22144%22%20viewBox%3D%220%200%20144%20144%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_di_893_2357)%22%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22url(%23paint0_linear_893_2357)%22%20style%3D%22%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_di_893_2357%22%20x%3D%2212%22%20y%3D%2216%22%20width%3D%22120%22%20height%3D%22120%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%222%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2357%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect1_dropShadow_893_2357%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.2%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect2_innerShadow_893_2357%22%2F%3E%0A%3C%2Ffilter%3E%0A%3ClinearGradient%20id%3D%22paint0_linear_893_2357%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23E9B582%22%20style%3D%22stop-color%3A%23E9B582%3Bstop-color%3Acolor(display-p3%200.9137%200.7098%200.5098)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23E6AF79%22%20style%3D%22stop-color%3A%23E6AF79%3Bstop-color%3Acolor(display-p3%200.9039%200.6879%200.4761)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},tile16:{width:144,height:144,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22144%22%20height%3D%22144%22%20viewBox%3D%220%200%20144%20144%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_di_893_2355)%22%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22url(%23paint0_linear_893_2355)%22%20style%3D%22%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_di_893_2355%22%20x%3D%2212%22%20y%3D%2216%22%20width%3D%22120%22%20height%3D%22120%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%222%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2355%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect1_dropShadow_893_2355%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.2%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect2_innerShadow_893_2355%22%2F%3E%0A%3C%2Ffilter%3E%0A%3ClinearGradient%20id%3D%22paint0_linear_893_2355%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23E99A6D%22%20style%3D%22stop-color%3A%23E99A6D%3Bstop-color%3Acolor(display-p3%200.9137%200.6039%200.4275)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23E79362%22%20style%3D%22stop-color%3A%23E79362%3Bstop-color%3Acolor(display-p3%200.9056%200.5746%200.3861)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},tile32:{width:144,height:144,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22144%22%20height%3D%22144%22%20viewBox%3D%220%200%20144%20144%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_di_893_2353)%22%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22url(%23paint0_linear_893_2353)%22%20style%3D%22%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_di_893_2353%22%20x%3D%2212%22%20y%3D%2216%22%20width%3D%22120%22%20height%3D%22120%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%222%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2353%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect1_dropShadow_893_2353%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.2%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect2_innerShadow_893_2353%22%2F%3E%0A%3C%2Ffilter%3E%0A%3ClinearGradient%20id%3D%22paint0_linear_893_2353%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23E8886E%22%20style%3D%22stop-color%3A%23E8886E%3Bstop-color%3Acolor(display-p3%200.9100%200.5350%200.4300)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23E57A5D%22%20style%3D%22stop-color%3A%23E57A5D%3Bstop-color%3Acolor(display-p3%200.8964%200.4802%200.3636)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},tile64:{width:144,height:144,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22144%22%20height%3D%22144%22%20viewBox%3D%220%200%20144%20144%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_di_893_2351)%22%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22url(%23paint0_linear_893_2351)%22%20style%3D%22%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_di_893_2351%22%20x%3D%2212%22%20y%3D%2216%22%20width%3D%22120%22%20height%3D%22120%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%222%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2351%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect1_dropShadow_893_2351%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.2%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect2_innerShadow_893_2351%22%2F%3E%0A%3C%2Ffilter%3E%0A%3ClinearGradient%20id%3D%22paint0_linear_893_2351%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23E67051%22%20style%3D%22stop-color%3A%23E67051%3Bstop-color%3Acolor(display-p3%200.9025%200.4405%200.3175)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23E26240%22%20style%3D%22stop-color%3A%23E26240%3Bstop-color%3Acolor(display-p3%200.8882%200.3856%200.2518)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},tile128:{width:144,height:144,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22144%22%20height%3D%22144%22%20viewBox%3D%220%200%20144%20144%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_ddii_893_2349)%22%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22url(%23paint0_linear_893_2349)%22%20style%3D%22%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_ddii_893_2349%22%20x%3D%226%22%20y%3D%226%22%20width%3D%22132%22%20height%3D%22132%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%222%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2349%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%225%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.901961%200%200%200%200%200.768627%200%200%200%200%200.309804%200%200%200%200.2%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect1_dropShadow_893_2349%22%20result%3D%22effect2_dropShadow_893_2349%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect2_dropShadow_893_2349%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.2%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect3_innerShadow_893_2349%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeMorphology%20radius%3D%221%22%20operator%3D%22erode%22%20in%3D%22SourceAlpha%22%20result%3D%22effect4_innerShadow_893_2349%22%2F%3E%0A%3CfeOffset%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.2%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect3_innerShadow_893_2349%22%20result%3D%22effect4_innerShadow_893_2349%22%2F%3E%0A%3C%2Ffilter%3E%0A%3ClinearGradient%20id%3D%22paint0_linear_893_2349%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23EBD47F%22%20style%3D%22stop-color%3A%23EBD47F%3Bstop-color%3Acolor(display-p3%200.9217%200.8300%200.4983)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23EDCF64%22%20style%3D%22stop-color%3A%23EDCF64%3Bstop-color%3Acolor(display-p3%200.9286%200.8122%200.3914)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},tile256:{width:144,height:144,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22144%22%20height%3D%22144%22%20viewBox%3D%220%200%20144%20144%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_ddii_893_2347)%22%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22url(%23paint0_linear_893_2347)%22%20style%3D%22%22%2F%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22url(%23paint1_linear_893_2347)%22%20fill-opacity%3D%220.16%22%20style%3D%22%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_ddii_893_2347%22%20x%3D%226%22%20y%3D%226%22%20width%3D%22132%22%20height%3D%22132%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%222.25%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.12%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2347%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%225%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.901961%200%200%200%200%200.768627%200%200%200%200%200.309804%200%200%200%200.4%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect1_dropShadow_893_2347%22%20result%3D%22effect2_dropShadow_893_2347%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect2_dropShadow_893_2347%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.25%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect3_innerShadow_893_2347%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeMorphology%20radius%3D%221%22%20operator%3D%22erode%22%20in%3D%22SourceAlpha%22%20result%3D%22effect4_innerShadow_893_2347%22%2F%3E%0A%3CfeOffset%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.25%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect3_innerShadow_893_2347%22%20result%3D%22effect4_innerShadow_893_2347%22%2F%3E%0A%3C%2Ffilter%3E%0A%3ClinearGradient%20id%3D%22paint0_linear_893_2347%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23EBD47F%22%20style%3D%22stop-color%3A%23EBD47F%3Bstop-color%3Acolor(display-p3%200.9217%200.8300%200.4983)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23EDCF64%22%20style%3D%22stop-color%3A%23EDCF64%3Bstop-color%3Acolor(display-p3%200.9286%200.8122%200.3914)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3ClinearGradient%20id%3D%22paint1_linear_893_2347%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23FCDB69%22%20style%3D%22stop-color%3A%23FCDB69%3Bstop-color%3Acolor(display-p3%200.9863%200.8574%200.4137)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%220.333333%22%20stop-color%3D%22%23FFD33C%22%20style%3D%22stop-color%3A%23FFD33C%3Bstop-color%3Acolor(display-p3%201.0000%200.8268%200.2369)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%220.666667%22%20stop-color%3D%22%23FFBA0A%22%20style%3D%22stop-color%3A%23FFBA0A%3Bstop-color%3Acolor(display-p3%201.0000%200.7312%200.0400)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23EEC450%22%20style%3D%22stop-color%3A%23EEC450%3Bstop-color%3Acolor(display-p3%200.9318%200.7669%200.3133)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},tile512:{width:144,height:144,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22144%22%20height%3D%22144%22%20viewBox%3D%220%200%20144%20144%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_ddii_893_2345)%22%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22url(%23paint0_linear_893_2345)%22%20style%3D%22%22%2F%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22url(%23paint1_linear_893_2345)%22%20fill-opacity%3D%220.33%22%20style%3D%22%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_ddii_893_2345%22%20x%3D%226%22%20y%3D%226%22%20width%3D%22132%22%20height%3D%22132%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dx%3D%222%22%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%222.5%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.15%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2345%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%225%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.901961%200%200%200%200%200.768627%200%200%200%200%200.309804%200%200%200%200.6%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect1_dropShadow_893_2345%22%20result%3D%22effect2_dropShadow_893_2345%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect2_dropShadow_893_2345%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.3%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect3_innerShadow_893_2345%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeMorphology%20radius%3D%221%22%20operator%3D%22erode%22%20in%3D%22SourceAlpha%22%20result%3D%22effect4_innerShadow_893_2345%22%2F%3E%0A%3CfeOffset%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.3%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect3_innerShadow_893_2345%22%20result%3D%22effect4_innerShadow_893_2345%22%2F%3E%0A%3C%2Ffilter%3E%0A%3ClinearGradient%20id%3D%22paint0_linear_893_2345%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23EBD47F%22%20style%3D%22stop-color%3A%23EBD47F%3Bstop-color%3Acolor(display-p3%200.9217%200.8300%200.4983)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23EDCF64%22%20style%3D%22stop-color%3A%23EDCF64%3Bstop-color%3Acolor(display-p3%200.9286%200.8122%200.3914)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3ClinearGradient%20id%3D%22paint1_linear_893_2345%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23FCDB69%22%20style%3D%22stop-color%3A%23FCDB69%3Bstop-color%3Acolor(display-p3%200.9863%200.8574%200.4137)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%220.333333%22%20stop-color%3D%22%23FFD33C%22%20style%3D%22stop-color%3A%23FFD33C%3Bstop-color%3Acolor(display-p3%201.0000%200.8268%200.2369)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%220.666667%22%20stop-color%3D%22%23FFBA0A%22%20style%3D%22stop-color%3A%23FFBA0A%3Bstop-color%3Acolor(display-p3%201.0000%200.7312%200.0400)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23EEC450%22%20style%3D%22stop-color%3A%23EEC450%3Bstop-color%3Acolor(display-p3%200.9318%200.7669%200.3133)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},tile1024:{width:144,height:144,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22144%22%20height%3D%22144%22%20viewBox%3D%220%200%20144%20144%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_ddii_893_2343)%22%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22url(%23paint0_linear_893_2343)%22%20style%3D%22%22%2F%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22url(%23paint1_linear_893_2343)%22%20fill-opacity%3D%220.5%22%20style%3D%22%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_ddii_893_2343%22%20x%3D%226%22%20y%3D%226%22%20width%3D%22132%22%20height%3D%22132%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%222.75%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.17%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2343%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%225%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.901961%200%200%200%200%200.768627%200%200%200%200%200.309804%200%200%200%200.8%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect1_dropShadow_893_2343%22%20result%3D%22effect2_dropShadow_893_2343%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect2_dropShadow_893_2343%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.35%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect3_innerShadow_893_2343%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeMorphology%20radius%3D%221%22%20operator%3D%22erode%22%20in%3D%22SourceAlpha%22%20result%3D%22effect4_innerShadow_893_2343%22%2F%3E%0A%3CfeOffset%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.3%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect3_innerShadow_893_2343%22%20result%3D%22effect4_innerShadow_893_2343%22%2F%3E%0A%3C%2Ffilter%3E%0A%3ClinearGradient%20id%3D%22paint0_linear_893_2343%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23EBD47F%22%20style%3D%22stop-color%3A%23EBD47F%3Bstop-color%3Acolor(display-p3%200.9217%200.8300%200.4983)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23EDCF64%22%20style%3D%22stop-color%3A%23EDCF64%3Bstop-color%3Acolor(display-p3%200.9286%200.8122%200.3914)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3ClinearGradient%20id%3D%22paint1_linear_893_2343%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23FCDB69%22%20style%3D%22stop-color%3A%23FCDB69%3Bstop-color%3Acolor(display-p3%200.9863%200.8574%200.4137)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%220.333333%22%20stop-color%3D%22%23FFD33C%22%20style%3D%22stop-color%3A%23FFD33C%3Bstop-color%3Acolor(display-p3%201.0000%200.8268%200.2369)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%220.666667%22%20stop-color%3D%22%23FFBA0A%22%20style%3D%22stop-color%3A%23FFBA0A%3Bstop-color%3Acolor(display-p3%201.0000%200.7312%200.0400)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23EEC450%22%20style%3D%22stop-color%3A%23EEC450%3Bstop-color%3Acolor(display-p3%200.9318%200.7669%200.3133)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},tile2048:{width:144,height:144,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22144%22%20height%3D%22144%22%20viewBox%3D%220%200%20144%20144%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_dddii_893_2341)%22%3E%0A%3Cpath%20d%3D%22M16%2028C16%2021.3726%2021.3726%2016%2028%2016H116C122.627%2016%20128%2021.3726%20128%2028V116C128%20122.627%20122.627%20128%20116%20128H28C21.3726%20128%2016%20122.627%2016%20116V28Z%22%20fill%3D%22url(%23paint0_linear_893_2341)%22%20style%3D%22%22%2F%3E%0A%3Cpath%20d%3D%22M16%2028C16%2021.3726%2021.3726%2016%2028%2016H116C122.627%2016%20128%2021.3726%20128%2028V116C128%20122.627%20122.627%20128%20116%20128H28C21.3726%20128%2016%20122.627%2016%20116V28Z%22%20fill%3D%22url(%23paint1_linear_893_2341)%22%20style%3D%22%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_dddii_893_2341%22%20x%3D%222%22%20y%3D%224%22%20width%3D%22140%22%20height%3D%22140%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%223%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.2%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2341%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%22-2%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%225%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.901961%200%200%200%200%200.768627%200%200%200%200%200.309804%200%200%200%200.6%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect1_dropShadow_893_2341%22%20result%3D%22effect2_dropShadow_893_2341%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%222%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%227%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%200.741176%200%200%200%200%200.0588235%200%200%200%200.6%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect2_dropShadow_893_2341%22%20result%3D%22effect3_dropShadow_893_2341%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect3_dropShadow_893_2341%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.4%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect4_innerShadow_893_2341%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeMorphology%20radius%3D%221%22%20operator%3D%22erode%22%20in%3D%22SourceAlpha%22%20result%3D%22effect5_innerShadow_893_2341%22%2F%3E%0A%3CfeOffset%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.4%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect4_innerShadow_893_2341%22%20result%3D%22effect5_innerShadow_893_2341%22%2F%3E%0A%3C%2Ffilter%3E%0A%3ClinearGradient%20id%3D%22paint0_linear_893_2341%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23EFDB94%22%20style%3D%22stop-color%3A%23EFDB94%3Bstop-color%3Acolor(display-p3%200.9380%200.8596%200.5820)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23ECD069%22%20style%3D%22stop-color%3A%23ECD069%3Bstop-color%3Acolor(display-p3%200.9274%200.8159%200.4126)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3ClinearGradient%20id%3D%22paint1_linear_893_2341%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23FCDB69%22%20style%3D%22stop-color%3A%23FCDB69%3Bstop-color%3Acolor(display-p3%200.9863%200.8574%200.4137)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%220.333333%22%20stop-color%3D%22%23FFD33C%22%20style%3D%22stop-color%3A%23FFD33C%3Bstop-color%3Acolor(display-p3%201.0000%200.8268%200.2369)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%220.666667%22%20stop-color%3D%22%23FFBA0A%22%20style%3D%22stop-color%3A%23FFBA0A%3Bstop-color%3Acolor(display-p3%201.0000%200.7312%200.0400)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23EEC450%22%20style%3D%22stop-color%3A%23EEC450%3Bstop-color%3Acolor(display-p3%200.9318%200.7669%200.3133)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},tileOverflow:{width:144,height:144,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22144%22%20height%3D%22144%22%20viewBox%3D%220%200%20144%20144%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_ddiii_893_2339)%22%3E%0A%3Crect%20x%3D%2216%22%20y%3D%2216%22%20width%3D%22112%22%20height%3D%22112%22%20rx%3D%2212%22%20fill%3D%22url(%23paint0_linear_893_2339)%22%20style%3D%22%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_ddiii_893_2339%22%20x%3D%226%22%20y%3D%227%22%20width%3D%22132%22%20height%3D%22133%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%222%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%225%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%200.955996%200%200%200%200%200.805404%200%200%200%200.08%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_893_2339%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%22-1%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%224%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.2%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect1_dropShadow_893_2339%22%20result%3D%22effect2_dropShadow_893_2339%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect2_dropShadow_893_2339%22%20result%3D%22shape%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%22-1%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.5%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22shape%22%20result%3D%22effect3_innerShadow_893_2339%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeMorphology%20radius%3D%221%22%20operator%3D%22erode%22%20in%3D%22SourceAlpha%22%20result%3D%22effect4_innerShadow_893_2339%22%2F%3E%0A%3CfeOffset%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.05%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect3_innerShadow_893_2339%22%20result%3D%22effect4_innerShadow_893_2339%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22arithmetic%22%20k2%3D%22-1%22%20k3%3D%221%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.36%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect4_innerShadow_893_2339%22%20result%3D%22effect5_innerShadow_893_2339%22%2F%3E%0A%3C%2Ffilter%3E%0A%3ClinearGradient%20id%3D%22paint0_linear_893_2339%22%20x1%3D%2272%22%20y1%3D%2216%22%20x2%3D%2272%22%20y2%3D%22128%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%3Cstop%20stop-color%3D%22%23403A31%22%20style%3D%22stop-color%3A%23403A31%3Bstop-color%3Acolor(display-p3%200.2510%200.2275%200.1922)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%220.333333%22%20stop-color%3D%22%233C352E%22%20style%3D%22stop-color%3A%233C352E%3Bstop-color%3Acolor(display-p3%200.2353%200.2078%200.1804)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%220.666667%22%20stop-color%3D%22%2337302A%22%20style%3D%22stop-color%3A%2337302A%3Bstop-color%3Acolor(display-p3%200.2157%200.1882%200.1647)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23312C26%22%20style%3D%22stop-color%3A%23312C26%3Bstop-color%3Acolor(display-p3%200.1922%200.1725%200.1490)%3Bstop-opacity%3A1%3B%22%2F%3E%0A%3C%2FlinearGradient%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},rotationArrow:{width:256,height:262,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22256%22%20height%3D%22262%22%20viewBox%3D%220%200%20256%20262%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_ddddd_934_589)%22%3E%0A%3Cpath%20d%3D%22M123.497%20172.177L126.817%20168.974C141.142%20155.152%20142.753%20133.27%20130.598%20117.632L109.355%2090.3015M109.355%2090.3015L158.853%2090.3015M109.355%2090.3015L95.2131%20131.239%22%20stroke%3D%22white%22%20style%3D%22stroke%3Awhite%3Bstroke-opacity%3A1%3B%22%20stroke-width%3D%2220%22%20stroke-linecap%3D%22round%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_ddddd_934_589%22%20x%3D%225.03345%22%20y%3D%220.481689%22%20width%3D%22243.996%22%20height%3D%22261.515%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%2240%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.859635%200%200%200%200%200.585902%200%200%200%200%200.468588%200%200%200%200.8%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_934_589%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%2210%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%2220%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.262745%200%200%200%200%200.235294%200%200%200%200%200.207843%200%200%200%200.09375%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect1_dropShadow_934_589%22%20result%3D%22effect2_dropShadow_934_589%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%224%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%225%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.262745%200%200%200%200%200.235294%200%200%200%200%200.207843%200%200%200%200.075%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect2_dropShadow_934_589%22%20result%3D%22effect3_dropShadow_934_589%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%225%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%227.5%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.262745%200%200%200%200%200.235294%200%200%200%200%200.207843%200%200%200%200.05625%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect3_dropShadow_934_589%22%20result%3D%22effect4_dropShadow_934_589%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%20dy%3D%222%22%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%221%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%200.2639%200%200%200%200%200.235865%200%200%200%200%200.20783%200%200%200%200.2%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22effect4_dropShadow_934_589%22%20result%3D%22effect5_dropShadow_934_589%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect5_dropShadow_934_589%22%20result%3D%22shape%22%2F%3E%0A%3C%2Ffilter%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"},selectionRing:{width:162,height:162,dataURL:"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%22162%22%20height%3D%22162%22%20viewBox%3D%220%200%20162%20162%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cg%20filter%3D%22url(%23filter0_d_935_3876)%22%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M37%2020C27.6112%2020%2020%2027.6112%2020%2037V125C20%20134.389%2027.6112%20142%2037%20142H125C134.389%20142%20142%20134.389%20142%20125V37C142%2027.6112%20134.389%2020%20125%2020H37ZM37%2023C29.268%2023%2023%2029.268%2023%2037V125C23%20132.732%2029.268%20139%2037%20139H125C132.732%20139%20139%20132.732%20139%20125V37C139%2029.268%20132.732%2023%20125%2023H37Z%22%20fill%3D%22white%22%20style%3D%22fill%3Awhite%3Bfill-opacity%3A1%3B%22%2F%3E%0A%3C%2Fg%3E%0A%3Cdefs%3E%0A%3Cfilter%20id%3D%22filter0_d_935_3876%22%20x%3D%220%22%20y%3D%220%22%20width%3D%22162%22%20height%3D%22162%22%20filterUnits%3D%22userSpaceOnUse%22%20color-interpolation-filters%3D%22sRGB%22%3E%0A%3CfeFlood%20flood-opacity%3D%220%22%20result%3D%22BackgroundImageFix%22%2F%3E%0A%3CfeColorMatrix%20in%3D%22SourceAlpha%22%20type%3D%22matrix%22%20values%3D%220%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200%22%20result%3D%22hardAlpha%22%2F%3E%0A%3CfeOffset%2F%3E%0A%3CfeGaussianBlur%20stdDeviation%3D%2210%22%2F%3E%0A%3CfeComposite%20in2%3D%22hardAlpha%22%20operator%3D%22out%22%2F%3E%0A%3CfeColorMatrix%20type%3D%22matrix%22%20values%3D%220%200%200%200%201%200%200%200%200%200.848157%200%200%200%200%200.309804%200%200%200%200.3%200%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in2%3D%22BackgroundImageFix%22%20result%3D%22effect1_dropShadow_935_3876%22%2F%3E%0A%3CfeBlend%20mode%3D%22normal%22%20in%3D%22SourceGraphic%22%20in2%3D%22effect1_dropShadow_935_3876%22%20result%3D%22shape%22%2F%3E%0A%3C%2Ffilter%3E%0A%3C%2Fdefs%3E%0A%3C%2Fsvg%3E%0A"}},Ru=Ml("TextureManager");class Pu{constructor(e){this.broker=e,this.texturePromiseMap=new Map}async getTexture(e){if(this.texturePromiseMap.has(e))return Ru("getTexture (cached)",e),this.texturePromiseMap.get(e);Ru("getTexture",e);const t=this.broker.call("getImageBitmapForSVGResource",[e]).then(e=>new f({source:new h({resource:e})}));return this.texturePromiseMap.set(e,t),t}async preloadTextures(){Ru("preloading textures");const e=Object.keys(Iu);for(const t of e)Ru("preloading texture",t),this.getTexture(t)}}class $u{constructor(e,t,n){this.tileMap=e,this.context=t,this.selectionContainer=n}}class ju extends $u{handleClick(){var e;if((null==(e=this.context.gameplay)?void 0:e.state)===wi.Selecting){const{x:e,y:t}=this.context.boardCursor;return{type:"position",position:{x:e,y:t}}}return null}}async function Uu(e){await Promise.all(e.map(e=>e.unhoverable()))}const Gu=[gs.Up,gs.Right,gs.Down,gs.Left].map(ms),Lu=(new m).roundRect(0,53,Cu,6,3).fill("red").roundRect(53,0,6,Cu,3).fill("red");function Nu(){const e=new vu,t=Lu.clone();return t.pivot.set(t.width/2,t.height/2),t.angle=45,e.addChild(t),t.position.set(e.width/2,e.height/2),e.pivot.set(e.width/2,e.height/2),e}const zu={duration:500,bounce:.6};class Wu extends vu{constructor(e,t){super(),this.direction=e,this.context=t,this.floatControls=null,this.hovered=!1}async init(){const e=new p;e.anchor.set(.5),e.scale.set(this.context.scale,this.context.scale),e.texture=await this.context.getTexture(Fu.RotationArrow),this.direction===$s.Clockwise&&(e.scale.x*=-1),this.addChild(e)}destroy(e){var t;null==(t=this.floatControls)||t.stop(),super.destroy(e)}enter(){this.scale.set(0),this.animate({scale:{to:1}},Du),du(this.float())}hover(){this.destroyed||this.hovered||(this.hovered=!0,this.animate({scale:{to:1.1}},zu))}unhover(){!this.destroyed&&this.hovered&&(this.hovered=!1,this.animate({scale:{to:1}},zu))}float(){return new Promise(e=>{this.floatControls=ou({from:0,to:10,repeatType:"mirror",repeat:1/0,duration:2e3,repeatDelay:500,onUpdate:e=>{this.destroyed||(this.position.y=e-5)},onComplete:e,onStop:e})})}}class qu extends vu{constructor(e){super(),this.context=e,this.visible=!1;const t=new p;t.anchor.set(.5),t.scale.set(this.context.scale,this.context.scale),this.context.getTexture(Fu.SelectionRing).then(e=>t.texture=e),this.addChild(t)}async move(e,t=!1){if(void 0===e)return void(this.visible=!1);const{x:n,y:r}=e,{width:o,height:i}=this.context.boardSize,s=(n-o/2)*_u+60,a=(r-i/2)*_u+60;return t?void this.position.set(s,a):this.animate({position:{to:{x:s,y:a}}})}}const Vu={adjacentTilesDirectional:class extends ju{deactivate(){return Uu(this.tileMap)}async update(){Ps(this.context.gameplay,"adjacentTilesDirectional");const{board:e,selection:{origin:t}}=this.context.gameplay,n=Cs(e,this.context.boardCursor),r=this.getHoverableTileIds();await Promise.all(Bs(e,e=>{if(!e)return;const o=this.tileMap.get(e.id);return ei(o,`Could not find tile entity for ${xi(e.id)}`),e.id===t?o.hoverable():r.has(e.id)?(null==n?void 0:n.id)===e.id?o.hover():o.hoverable():o.hoverableDisabled()}))}getHoverableTileIds(){Ps(this.context.gameplay,"adjacentTilesDirectional");const{board:e,selection:{origin:t}}=this.context.gameplay;return t?this.getAdjacentTileIds(t):function(e){const t=new Set,{width:n,height:r}=vs(e);for(let o=0;o<r;o++)for(let r=0;r<n;r++){const n=Cs(e,{x:r,y:o}),i=Cs(e,{x:r+1,y:o}),s=Cs(e,{x:r,y:o+1});n&&(i||s)&&(t.add(n.id),i&&t.add(i.id),s&&t.add(s.id))}return t}(e)}getAdjacentTileIds(e){Ps(this.context.gameplay,"adjacentTilesDirectional");const{board:t}=this.context.gameplay,n=Os(e,t);ei(n,`Could not find position for tile ${xi(e)}`);const r=new Set;for(const o of Gu){const e=Cs(t,fs(n,o));e&&r.add(e.id)}return r}},byValue:class extends ju{deactivate(){return Uu(this.tileMap)}async update(){Ps(this.context.gameplay,"byValue");const{board:e}=this.context.gameplay,t=Cs(e,this.context.boardCursor),n=t?this.getTileIdsWithSameValue(t.value):new Set;await Promise.all(Bs(e,e=>{if(!e)return;const t=this.tileMap.get(e.id);return ei(t,`Could not find tile entity for ${e.id}`),n.has(e.id)?t.hover():t.hoverable()}))}getTileIdsWithSameValue(e){Ps(this.context.gameplay,"byValue");const{board:t}=this.context.gameplay;return Ms(t,(t,n)=>(n&&n.value===e&&t.add(n.id),t),new Set)}},multipleTile:class extends ju{async deactivate(){return Uu(this.tileMap)}async update(){Ps(this.context.gameplay,"multipleTile");const{board:e,selection:t}=this.context.gameplay,n=new Set(t.tiles),r=Cs(e,this.context.boardCursor);await Promise.all(Bs(e,e=>{if(!e)return;const t=this.tileMap.get(e.id);return ei(t,`Could not find tile entity for ${e.id}`),n.has(e.id)?(t.moveToForeground(),t.select()):e.id===(null==r?void 0:r.id)?t.hover():t.hoverable()}))}},singleCell:class extends ju{deactivate(){throw new Error("Method not implemented.")}update(){throw new Error("Method not implemented.")}},singleTile:class extends ju{deactivate(){throw new Error("Method not implemented.")}update(){throw new Error("Method not implemented.")}},bomb:class extends ju{async deactivate(){this.crossField.destroy()}async update(){Ps(this.context.gameplay,"bomb"),this.crossField||this.buildCrossField();const{width:e}=vs(this.context.gameplay.board),{x:t,y:n}=this.context.boardCursor;for(let r=0;r<this.crossField.children.length;r++){const o=this.crossField.children[r]instanceof vu?this.crossField.children[r]:void 0;ei(o,"Cross is not a SpringContainer");const i=r%e,s=Math.floor(r/e);Math.abs(i-t)<=1&&Math.abs(s-n)<=1?o.animate({scale:{to:1},alpha:{to:i===t&&s===n?1:.2}}):o.animate({scale:{to:0,clamp:!0}})}}buildCrossField(){Ps(this.context.gameplay,"bomb"),this.crossField=new d;const{width:e,height:t}=vs(this.context.gameplay.board);for(let r=0;r<e;r++)for(let e=0;e<t;e++){const t=Nu(),n=t.height/2+120*e,o=t.width/2+120*r;t.position.set(n,o),this.crossField.addChild(t)}const n=this.crossField.getBounds();this.crossField.pivot.set(n.width/2,n.height/2);for(const r of this.crossField.children)r.scale.set(0);this.selectionContainer.addChild(this.crossField)}},rotation:class extends $u{constructor(){super(...arguments),this.arrowsCreated=!1,this.arrows=new Map}async deactivate(){for(const e of this.arrows.values())e.destroy()}async update(){await this.ensureArrows()}handleClick(){for(const[e,t]of this.arrows)if(t.hitArea&&t.hitArea.contains(this.context.absoluteCursor.x,this.context.absoluteCursor.y))return{type:"rotation",direction:e};return null}handleMouseCursorChange(){for(const[,e]of this.arrows)e.hitArea&&(e.hitArea.contains(this.context.absoluteCursor.x,this.context.absoluteCursor.y)?e.hover():e.unhover())}async ensureArrows(){if(this.arrowsCreated)return;this.arrowsCreated=!0,ei(this.context.gameplay,"Gameplay context is required");const e=new Wu($s.Clockwise,this.context);this.arrows.set($s.Clockwise,e);const t=new Wu($s.CounterClockwise,this.context);this.arrows.set($s.CounterClockwise,t),await Promise.all([e.init(),t.init()]),e.destroyed||t.destroyed||(this.selectionContainer.addChild(e),e.position.x-=e.width/2+50,e.hitArea=g(e,!1,new y).rectangle,this.selectionContainer.addChild(t),t.position.x+=e.width/2+50,t.hitArea=g(t,!1,new y).rectangle,t.enter(),e.enter())}},tileAndEmptyCell:class extends ju{async deactivate(){return this.selectionCursor.destroy(),Uu(this.tileMap)}async update(){this.ensureSelectionCursor(),Ps(this.context.gameplay,"tileAndEmptyCell");const{board:e,selection:{tile:t}}=this.context.gameplay,n=Cs(e,this.context.boardCursor);if(null===t)await Promise.all(Bs(e,e=>{if(!e)return;const r=this.tileMap.get(e.id);return r?e.id===t?(r.moveToForeground(),r.select()):e.id===(null==n?void 0:n.id)?r.hover():r.hoverable():void 0}));else{if(!this.selectionCursor.visible)return this.selectionCursor.visible=!0,this.selectionCursor.move(this.context.boardCursor,!0);const e=n?0:1;await Promise.all([this.selectionCursor.move(this.context.boardCursor),this.selectionCursor.animate({alpha:{to:e}})])}}ensureSelectionCursor(){this.selectionCursor||(this.selectionCursor=new qu(this.context),this.selectionContainer.addChild(this.selectionCursor))}}};class Hu extends d{constructor(e,t){super(),this.tileMap=e,this.context=t,this.handler=void 0}async update(){var e,t;this.ensureHandler();const n=[];if(this.currentGameplay!==this.context.gameplay){const t=this.currentGameplay;this.currentGameplay=this.context.gameplay;const r=null==(e=this.context.gameplay)?void 0:e.state;if(r!==(null==t?void 0:t.state)&&r!==wi.Selecting&&this.handler){const e=this.handler;this.handler=void 0,n.push(e.deactivate().then(()=>pu()))}}(null==(t=this.context.gameplay)?void 0:t.state)===wi.Selecting&&(ei(this.handler,"Handler not found while selecting"),n.push(this.handler.update())),await Promise.all(n)}updateMouseCursor(){var e,t;null==(t=null==(e=this.handler)?void 0:e.handleMouseCursorChange)||t.call(e)}handleClick(){return this.ensureHandler(),this.handler?this.handler.handleClick():null}ensureHandler(){var e;if((null==(e=this.context.gameplay)?void 0:e.state)!==wi.Selecting)return;const t=this.context.gameplay.selection;ei(t,"Selection not found while selecting");const n=Vu[t.type];ei(n,`No handler found for selection type: ${t.type}`),this.handler instanceof n||(this.handler=new n(this.tileMap,this.context,this))}}const Yu={xs:"360px",sm:"640px",md:"768px",lg:"1100px",xl:"1280px","2xl":"1536px",pwa:{raw:"(display-mode: standalone)"},short:{raw:"(max-height: 650px)"}},Ju={sans:["Rubik","Arial","system-ui","sans-serif"]},Xu=Object.fromEntries(Object.entries(Yu).map(([e,t])=>"string"==typeof t?[e,`(min-width: ${t})`]:[e,t.raw])),Ku=()=>(performance??Date).now(),Zu=()=>{const e=Ku();let t;return{stop(){t=Ku()-e},duration(){return this.stop(),t},durationMs(e=1){return`${this.duration().toFixed(e)}ms`}}},Qu="undefined"!=typeof requestIdleCallback?(e,t=0)=>requestIdleCallback(e,t>0?{timeout:t}:void 0):(e,t=0)=>setTimeout(e,t),ed="/Rubik-VariableWeight.woff2",td=Ml("fonts"),nd=self.fonts??document.fonts,rd={rubikLight:{fontName:"Rubik",url:ed,weight:"300"},rubikLightItalic:{fontName:"Rubik",url:ed,weight:"300",style:"italic"},rubikRegular:{fontName:"Rubik",url:ed},rubikItalic:{fontName:"Rubik",url:ed,style:"italic"},rubikMedium:{fontName:"Rubik",url:ed,weight:"500"},rubikMediumItalic:{fontName:"Rubik",url:ed,weight:"500",style:"italic"},rubikSemiBold:{fontName:"Rubik",url:ed,weight:"600"},rubikSemiBoldItalic:{fontName:"Rubik",url:ed,weight:"600",style:"italic"},rubikBold:{fontName:"Rubik",url:ed,weight:"700"},rubikBoldItalic:{fontName:"Rubik",url:ed,weight:"700",style:"italic"},rubikExtraBold:{fontName:"Rubik",url:ed,weight:"800"},rubikExtraBoldItalic:{fontName:"Rubik",url:ed,weight:"800",style:"italic"},rubikBlack:{fontName:"Rubik",url:ed,weight:"900"},rubikBlackItalic:{fontName:"Rubik",url:ed,weight:"900",style:"italic"}},od={};async function id(e){td(`Font "${e}" requested`);const t=od[e];return t?(td(`Font "${e}" already loading/loaded`),t):(od[e]=async function(e){td(`Loading font "${e}"`);const t=rd[e];ei(t,`Font ${e} not found`);const{fontName:n,url:r,...o}=t,i=new FontFace(n,`url(${r})`,o);return await i.load(),"add"in nd&&"function"==typeof nd.add?(td(`Font face for "${e}" loaded`),nd.add(i)):td(`Font face for "${e}" loaded, but not added to global fonts because the environment does not support it`),new Promise(e=>Qu(()=>e()))}(e),od[e])}var sd=(e=>(e[e.Instant=0]="Instant",e[e.Add=1]="Add",e[e.Merge=2]="Merge",e))(sd||{}),ad=(e=>(e[e.Instant=0]="Instant",e[e.Remove=1]="Remove",e[e.Unmerge=2]="Unmerge",e))(ad||{}),ld=(e=>(e[e.Instant=0]="Instant",e[e.Slide=1]="Slide",e[e.Merge=2]="Merge",e[e.Unmerge=3]="Unmerge",e))(ld||{});class cd extends vu{constructor(e,t,n,r){super(),this.context=e,this.id=t,this.value=n,this.boardPosition=r,this.buildTile()}async move(e,t){switch(this.boardPosition=e,t){case 0:{const e=this.calculateVisualPosition(this.boardPosition);return this.position.set(e.x,e.y),void pu()}case 1:return this.performMoveSlideAnimation();case 2:return this.performMoveMergeAnimation();case 3:return this.performMoveUnmergeAnimation();default:Ei()}}async spawn(e,t){switch(await this.move(e,0),this.visible=!0,t){case 0:return void pu();case 1:return this.performSpawnAddAnimation();case 2:return this.performSpawnMergeAnimation();default:Ei()}}async unspawn(e){switch(e){case 0:return this.visible=!1,void pu();case 1:case 2:return await this.performUnspawnRemoveAnimation(),void(this.visible=!1);default:Ei()}}async hoverable(){return this.animate({scale:{to:.975*this.context.scale},alpha:{to:.8},angle:{to:0}},Au)}async unhoverable(){return this.animate({scale:{to:this.context.scale},alpha:{to:1},angle:{to:0}},Au)}async hoverableDisabled(){return this.animate({scale:{to:.975*this.context.scale},alpha:{to:.15},angle:{to:0}},Au)}async hover(){return this.animate({scale:{to:1.07*this.context.scale},alpha:{to:1},angle:{to:0}},Au)}async select(){return this.animate({scale:{to:1.15*this.context.scale},alpha:{to:1}},Au)}moveToForeground(){var e;null==(e=this.parent)||e.setChildIndex(this,this.parent.children.length-1)}async buildTile(){this.scale.set(this.context.scale,this.context.scale),this.move(this.boardPosition,0),this.unspawn(0);const e=[this.buildTileSprite(),this.buildTileText()];await Promise.all(e)}async buildTileSprite(){const e=new p;e.anchor.set(.5),this.addChild(e),e.texture=await this.context.getTexture(this.buildTileSVGResourceName()),pu()}async buildTileText(){await id("rubikSemiBold");const e=this.getTileFontSize(),t=new D({text:this.value.toString(),style:this.getTextStyle(e)});t.anchor.set(.5);const n=t.width*this.context.scale;if(n>88){const r=88/n;t.style.fontSize=this.scaledFontSize(e*r)}this.addChild(t),pu()}async buildTileDebugId(){const e=this.value<=4||this.value>=128&&this.value<=2048,t=new D({text:this.id,style:this.getTextStyle(8,e)}),n=new D({text:xi(this.id,!1),style:this.getTextStyle(10,e)});t.anchor.set(.5),n.anchor.set(.5),n.position.y=44/this.context.scale,t.position.y=32/this.context.scale,t.alpha=.4,n.alpha=.6,this.addChild(t),this.addChild(n)}scaledFontSize(e){return e/this.context.scale}getTextStyle(e,t=!1){return{fill:this.value<=4||t?"#756452":this.value<=2048?"#ffffff":"#C4BDB7",fontSize:this.scaledFontSize(e),fontFamily:Ju.sans,fontWeight:"500",align:"center"}}getTileFontSize(){const e=this.value.toString().length;return e<=2?48:3===e?40:33}buildTileSVGResourceName(){const e=`Tile${this.value}`;return e in Fu?Fu[e]:Fu.TileOverflow}calculateVisualPosition(e){const t=(Cu*this.context.boardSize.width+8*(this.context.boardSize.width-1))/2,n=(Cu*this.context.boardSize.height+8*(this.context.boardSize.height-1))/2;return{x:56+120*e.x-t,y:56+120*e.y-n}}performMoveSlideAnimation(){return this.animate({position:{to:this.calculateVisualPosition(this.boardPosition)}},Au)}performMoveMergeAnimation(){return this.animate({position:{to:this.calculateVisualPosition(this.boardPosition)},scale:{to:.8*this.context.scale,clamp:!0}},Au)}performMoveUnmergeAnimation(){return this.animate({position:{to:this.calculateVisualPosition(this.boardPosition)},scale:{to:this.context.scale}},Au)}performUnspawnRemoveAnimation(){return this.animate({scale:{to:0}},Au)}async performSpawnMergeAnimation(){return this.scale.set(0),this.animate({scale:{to:this.context.scale}},{...Au,elapsed:-50})}performSpawnAddAnimation(){return this.scale.set(0),this.animate({scale:{to:this.context.scale}},Au)}}class ud extends Map{constructor(e,t){super(),this.context=e,this.container=t,this.t=Ou(Date.now()),this.stragglers=new Set,this.t}async reset(e=ad.Instant){await Promise.all(this.map(async(t,n)=>{if(this.delete(n),!t.destroyed)return await t.unspawn(e),t.destroy()})),this.clear()}get(e){const t=super.get(e);return ei(t,`Could not find tile for ${xi(e)}`),t}getOrBuild(e,t){const n=this.has(e)?this.get(e):this.build(e,t);return ei(n,`Could not find or build tile for ${e}`),n}map(e){return Array.from(this.entries()).map(([t,n])=>e(n,t))}markStragglers(...e){for(const t of e)this.stragglers.add(t)}flushStragglers(e){for(const t of this.stragglers)e(t);this.stragglers.clear()}build(e,t){ei(!this.has(e),`Attempting to create tile entity for ${e} when it already exists.`);const n=Ts(t,e);ei(n,`Could not find tile on board for id ${e}`);const r=new cd(this.context,e,n.value,n.position);return this.container.addChild(r),this.set(e,r),r}}class dd extends d{constructor(e){super(),this.context=e,this.tilesContainer=new d,this.tileMap=new ud(this.context,this.tilesContainer),this.selection=new Hu(this.tileMap,this.context),this.addChild(this.tilesContainer),this.addChild(this.selection)}async update(){await Promise.all([this.selection.update(),this.applyChanges()])}async reset(){return this.tileMap.reset(ad.Remove)}async updateMouseCursor(){return this.selection.updateMouseCursor()}async updateBoardCursor(){return this.selection.update()}handleClick(){return this.selection.handleClick()}async applyChanges(){if(!this.context.gameplay)return;this.tileMap.flushStragglers(e=>e.endAllAnimations());const{changes:e,board:t}=this.context.gameplay,n=[];for(const r of e){let e;switch(r.type){case"tileAdded":e=this.addTile(r,t);break;case"tileMoved":e=this.moveTile(r);break;case"tileMerged":e=this.mergeTiles(r,t);break;case"tileUnmerged":e=this.unmergeTiles(r,t);break;case"tileRemoved":e=this.removeTile(r);break;case"twoTilesSwapped":e=this.swapTiles(r);break;case"outerRingRotated":e=this.rotateOuterRing(r);break;case"powerupAccrued":case"powerupConsumed":e=Promise.resolve();break;default:Ei()}n.push(e)}await Promise.all(n)}addTile(e,t){return this.tileMap.getOrBuild(e.tileId,t).spawn(e.position,sd.Add)}moveTile(e){return this.tileMap.get(e.tileId).move(e.to,ld.Slide)}async mergeTiles(e,t){const n=this.tileMap.getOrBuild(e.tileA.tileId,t),r=this.tileMap.getOrBuild(e.tileB.tileId,t),o=this.tileMap.getOrBuild(e.resultingTile.tileId,t);this.tileMap.markStragglers(n,r),this.tileMap.delete(e.tileA.tileId),this.tileMap.delete(e.tileB.tileId),await Promise.all([n.move(e.resultingTile.position,ld.Merge).then(()=>n.destroy()),r.move(e.resultingTile.position,ld.Merge).then(()=>r.destroy()),o.spawn(e.resultingTile.position,sd.Merge)])}async unmergeTiles(e,t){const n=this.tileMap.getOrBuild(e.tileA.tileId,t),r=this.tileMap.getOrBuild(e.tileB.tileId,t),o=this.tileMap.get(e.unmergedTile.tileId);await n.spawn(e.unmergedTile.position,sd.Instant),await r.spawn(e.unmergedTile.position,sd.Instant),o.moveToForeground(),await Promise.all([o.unspawn(ad.Unmerge).then(()=>o.destroy()),n.move(e.tileA.position,ld.Unmerge),r.move(e.tileB.position,ld.Unmerge)])}async removeTile(e){const t=this.tileMap.get(e.tileId);return t.unspawn(ad.Remove).then(()=>t.destroy())}async swapTiles(e){const t=this.tileMap.get(e.tileA.tileId),n=this.tileMap.get(e.tileB.tileId);t.moveToForeground(),n.moveToForeground(),await Promise.all([t.move(e.tileA.position,ld.Slide),n.move(e.tileB.position,ld.Slide)])}async rotateOuterRing(e){await Promise.all(e.tiles.map(async({tileId:e,position:t})=>{const n=this.tileMap.get(e);return n.moveToForeground(),n.move(t,ld.Slide)}))}}function pd(e,t=1/0,n=1/0){return new v({_onUpdate:e},t,n)}const fd=ua(),hd=Ml("Renderer"),md=hd.extend("fps");var gd=(e=>(e[e.Default=0]="Default",e[e.Dark=1]="Dark",e))(gd||{});class yd{constructor(e){this.broker=e,this.destroyed=!1,this.mouseCursor=pd(e=>this.handleMouseCursorChange(e)),this.absoluteCursor=new C,this.boardCursor=pd(()=>this.handleBoardCursorChange()),this.app=new _,this.textureManager=new Pu(this.broker),this.resetPromise=Promise.resolve(),this.id=xi(_i(),!1),fd&&A.set(x),this.textureManager.preloadTextures(),+new Date<7640352e5&&Ga("TWF0aA==")[Ga("cmFuZG9t")]&&(Tu("not preloaded"),localStorage.removeItem(ku),localStorage.setItem(ku,"dHVydGxlcyBhcmUgbXkgZmF2b3JpdGUgYW5pbWFs"))}async init(e){hd("initializing"),this.visualStyle=e.visualStyle,await this.app.init({...bu,canvas:e.canvas,resolution:e.resolution}),this.context=this.buildContext(e),this.setStageOriginToCenter(),this.app.stage.addChild(this.board=new Su(this.context)),await this.board.init();const{ticker:t}=this.app;!function(e){ei(!su,"setCurrentTicker called with ticker already set"),iu("acquired new ticker"),lu=0,su=e}(t),t.addOnce(()=>this.broker.emit("ready",[]),this,u.UTILITY),t.add(()=>this.handleFps(),this,u.UTILITY),this.broker.addListener("pointerMove",(e,t)=>this.mouseCursor.set(e,t)),this.broker.addListener("pointerDown",(e,t)=>this.handleClick(new C(e,t))),this.broker.addListener("pointerLeave",()=>this.mouseCursor.set(1/0,1/0)),this.app.stage.addChild(this.tiles=new dd(this.context))}async update(e){await this.resetPromise,hd("update",e.id,e.state);const t=this.context.gameplay;return this.context.gameplay=e,t&&t.id!==this.context.gameplay.id&&(hd(`gameplay id changed (${this.context.gameplay.id}), resetting renderer state`),this.resetPromise=this.tiles.reset(),await this.resetPromise),this.context.gameplay.state!==(null==t?void 0:t.state)&&this.mouseCursor.set(1/0,1/0),function({_gmmus:e}){if("2048s"!==e){const e=Ou(+new Date);localStorage.setItem(ku,e.toString())}}(e),this.tiles.update()}destroy(){hd("destroy"),ei(!this.destroyed,"Renderer already destroyed"),this.destroyed=!0;try{ei(su,"releaseCurrentTicker called without currentTicker"),iu("releasing current ticker"),clearInterval(au),au=0,lu=0,su=void 0,this.app.destroy()}catch(e){hd("Error destroying Pixi.js app",{error:e})}}handleMouseCursorChange(e){e&&(this.absoluteCursor.copyFrom(function(e){const{x:t,y:n}=e,r={x:Math.round(t*Eu.width),y:Math.round(n*Eu.height)};return new C(r.x,r.y)}(e)),this.boardCursor.copyFrom(function(e,t){const{x:n,y:r}=e;if(n===1/0||r===1/0)return new C(1/0,1/0);const{width:o,height:i}=t,s={x:(n-.5)*Eu.width,y:(r-.5)*Eu.height};return s.x=Math.floor(s.x/_u),s.y=Math.floor(s.y/_u),s.x+=o/2,s.y+=i/2,s.x=Ul(0,o-1,s.x),s.y=Ul(0,i-1,s.y),new C(s.x,s.y)}(e,this.context.boardSize)),this.tiles.updateMouseCursor())}handleBoardCursorChange(){this.tiles.updateBoardCursor()}handleClick(e){this.mouseCursor.copyFrom(e);const t=this.tiles.handleClick();null!==t&&this.broker.emit("selection",[t]),pu()}handleFps(){const e=this.app.ticker.FPS;md("%s FPS (id: %s)",e.toFixed(2),this.id),this.broker.emit("fps",[e])}buildContext(e){return{boardSize:e.boardSize,scale:1/e.resolution,mouseCursor:this.mouseCursor,absoluteCursor:this.absoluteCursor,boardCursor:this.boardCursor,gameplay:void 0,visualStyle:this.visualStyle,getTexture:e=>this.textureManager.getTexture(e)}}setStageOriginToCenter(){this.app.stage.width=0,this.app.stage.height=0,this.app.stage.x=Eu.width/2,this.app.stage.y=Eu.height/2}}class Dd{constructor(e){this.callImplementations=e}}const vd=Ml("MessageBroker"),Cd=vd.extend("call"),_d=vd.extend("handleCall"),Ad=vd.extend("handleResponse"),xd=vd.extend("emit"),Ed=vd.extend("addListener"),wd=vd.extend("removeListener");class bd extends Dd{constructor(e,t,n){super(n),this.hookOnMessage=e,this.postMessageAdapter=t,this.resolvers=new Map,this.counter=0,this.terminated=!1,this.listenersByEventType=new Map,this.remoteEventListenersByEventType=new Map,this.hookOnMessage(this.handleIncomingMessage.bind(this))}call(e,t){if(this.terminated)return Cd("call ignored because MessageBroker is terminated"),Promise.reject(new Error("MessageBroker cannot send calls because it has been terminated"));const n=this.generateMessageId(),r=Array.isArray(t)?t:t.args,o=Array.isArray(t)?[]:t.transfer??[];Cd(e,n,r);const i={type:"call",call:e,id:n,args:r};return new Promise((t,r)=>{this.resolvers.set(n,{call:e,resolve:t,reject:r}),this.postMessageAdapter(i,o)})}destroy(){this.terminated=!0,this.resolvers.clear(),this.listenersByEventType.clear(),this.remoteEventListenersByEventType.clear()}addListener(e,t){if(Ed(String(e)),this.terminated)return;const n=this.listenersByEventType.get(e)??new Set;n.add(t),this.listenersByEventType.set(e,n),this.postMessageAdapter({type:"addListener",event:e},[])}removeListener(e,t){wd("removing listener for event %s",e);const n=t,r=this.listenersByEventType.get(e);ei(r,`No listeners for event ${String(e)}`),ei(r.has(n),`The listener passed is not listening to event ${String(e)}`),r.delete(n),0===r.size&&this.listenersByEventType.delete(e),this.postMessageAdapter({type:"removeListener",event:e},[])}removeAllListeners(){wd("removing all listeners");for(const[e,t]of this.listenersByEventType.entries())for(const n of t)this.removeListener(e,n)}emit(e,t,n,r=!1){r||!this.terminated&&this.hasRemoteListeners(e)?(xd(e,t),this.postMessageAdapter({type:"emit",event:e,data:t},n??[])):xd(`[no listeners] ${String(e)}`,t)}handleIncomingMessage(e){if(this.terminated)return;const{data:t}=e;switch(t.type){case"call":{const{call:e,id:n,args:r}=t;this.handleCall(e,n,r);break}case"response":{const{call:e,id:n,response:r}=t;this.handleResponse(e,n,r);break}case"error":{const{call:e,id:n,error:r}=t;this.handleError(e,n,r);break}case"addListener":{const{event:e}=t;this.handleAddListener(e);break}case"removeListener":{const{event:e}=t;this.handleRemoveListener(e);break}case"emit":{const{event:e,data:n}=t;this.handleEmit(e,n);break}default:Ei()}}async handleCall(e,t,n){const r=this.callImplementations[e];_d(e,t,n,r),ei(r,`No handler for call ${String(e)}`);try{const o=await r(...n);let i,s=[];null!=o&&"object"==typeof o&&"response"in o&&"transfer"in o?(i=o.response,s=o.transfer):i=o,this.postMessageAdapter({type:"response",call:e,id:t,response:i},s)}catch(o){const r={};for(const e of Object.getOwnPropertyNames(o))r[e]=o[e];console.error(`error handling call ${String(e)}`,o,n),on(o,{data:{isRunningInWebWorker:ua()}}),this.postMessageAdapter({type:"error",call:e,id:t,error:r},[])}}handleResponse(e,t,n){const r=this.resolvers.get(t);Ad(e,t,n,r),ei(r,`unexpected response received with id ${t}`),ei(r.call===e,`call of response with id ${t} (${String(e)}) does not match expected call (${String(r.call)})`),r.resolve(n),this.resolvers.delete(t)}handleError(e,t,n){console.error(`error received for call ${String(e)}`,n);const r=this.resolvers.get(t);ei(r,`unexpected error received with id ${t}`),ei(r.call===e,`call of error with id ${t} (${String(e)}) does not match expected call (${String(r.call)})`);const o=new Error;for(const i of Object.getOwnPropertyNames(n))o[i]=n[i];r.reject(n),this.resolvers.delete(t)}handleAddListener(e){const t=this.remoteEventListenersByEventType.get(e)??0;this.remoteEventListenersByEventType.set(e,t+1)}handleRemoveListener(e){const t=this.remoteEventListenersByEventType.get(e);ei(t&&t>0,`Attempted to remove listener for event ${String(e)} but there are no listeners`),this.remoteEventListenersByEventType.set(e,t-1)}handleEmit(e,t){const n=this.listenersByEventType.get(e);if(ei(n,`Remote counterpart emitted event ${String(e)} even though there are no listeners`),n)for(const r of n)r(...t)}hasRemoteListeners(e){return(this.remoteEventListenersByEventType.get(e)??0)>0}generateMessageId(){const e=Date.now();return e!==this.lastTimestamp&&(this.lastTimestamp=e,this.counter=0),`${e.toString(36)}${(this.counter++).toString(36)}`}}export{Ei as $,bl as A,Ku as B,yl as C,vl as D,fl as E,gl as F,Al as G,al as H,ai as I,wa as J,Ea as K,ba as L,bd as M,Cl as N,wi as O,_l as P,No as Q,yd as R,hl as S,xo as T,yo as U,vo as V,Fo as W,_o as X,Co as Y,li as Z,di as _,Do as a,Yl as a$,jo as a0,ei as a1,Go as a2,Yi as a3,ds as a4,ra as a5,Jo as a6,ps as a7,oa as a8,vs as a9,rl as aA,nl as aB,bo as aC,xa as aD,ya as aE,ha as aF,ma as aG,ga as aH,ri as aI,ii as aJ,ql as aK,Xu as aL,Yu as aM,Qu as aN,Iu as aO,Zu as aP,Dd as aQ,gd as aR,xu as aS,wu as aT,Dl as aU,Rs as aV,Da as aW,ea as aX,Ms as aY,Au as aZ,sa as a_,Ls as aa,Bs as ab,zs as ac,gs as ad,$l as ae,on as af,Aa as ag,Ca as ah,ll as ai,Na as aj,sn as ak,_a as al,va as am,bs as an,As as ao,da as ap,Ws as aq,Us as ar,Ja as as,fa as at,wl as au,pl as av,Ka as aw,Xa as ax,sl as ay,ol as az,Oo as b,aa as b0,la as b1,na as b2,ni as b3,cl as b4,si as b5,Mu as b6,qn as b7,Mo as c,Ol as d,Rl as e,Bo as f,Ro as g,Uo as h,$o as i,Po as j,Lo as k,id as l,Ml as m,go as n,So as o,fi as p,Ya as q,Ao as r,Eo as s,ua as t,Io as u,ko as v,pi as w,pa as x,xl as y,El as z};
/*! (C) 2024 2048 USA B.V.. All rights reserved. Copying and
redistribution of any of the code hosted at https://play2048.co is strictly
prohibited. This code is the intellectual property of 2048 USA B.V. and
is not licensed for use by any other party. */
